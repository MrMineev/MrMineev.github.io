!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("BusinessManagerAPI"),require("React"),require("ReactDOM"),require("Sentry"),require("_"),require("reactModuleContainer")):"function"==typeof define&&define.amd?define("wix-payments-balance",["BusinessManagerAPI","React","ReactDOM","Sentry","_","reactModuleContainer"],t):"object"==typeof exports?exports["wix-payments-balance"]=t(require("BusinessManagerAPI"),require("React"),require("ReactDOM"),require("Sentry"),require("_"),require("reactModuleContainer")):e["wix-payments-balance"]=t(e.BusinessManagerAPI,e.React,e.ReactDOM,e.Sentry,e._,e.reactModuleContainer)}("undefined"!=typeof self?self:this,(function(e,t,n,o,r,i){return function(){"use strict";var a,s,c,u,l={4682:function(e,t,n){n.d(t,{dV:function(){return l}});var o=n(48511),r=n(26034),i={minTransactionAmount:"DOUBLE"},a={},s={providers:"_paymentProviderInstance"},c={installments:"_installments"};function u(e){return(0,o.Kk)(Object.assign(e,{domainToMappings:{"www._base_domain_":[{srcPath:"/payment-settings-web",destPath:"/api"},{srcPath:"/ambassador/payment-settings-web",destPath:""}],"api._api_base_domain_":[{srcPath:"/payment-settings-web",destPath:""}],"manage._base_domain_":[{srcPath:"/payment-settings-web",destPath:"/api"},{srcPath:"/ambassador/payment-settings-web",destPath:""},{srcPath:"/cashier/v2/settings",destPath:"/v2/settings"}],"www.wixapis.com":[{srcPath:"/cashier/v2/settings",destPath:"/v2/settings"}],"bo._base_domain_":[{srcPath:"/_api/payment-settings-web",destPath:""}],"cronulla-jobs._base_domain_":[{srcPath:"/cashier/payment-settings-web/jobs",destPath:"/internal-api/jobs"}]}}))}function l(e){var t=(0,r.G)(a,{}),n=t.toJSON,l=t.fromJSON,d=(0,r.G)(s,{_installments:i,_paymentProviderInstance:c}).fromJSON;function f(t){var r=t.host,i=n(e);return{entityFqdn:"wix.cashier.settings.v1.payment_provider",method:"GET",methodFqn:"wixpress.onboarding.v1.PaymentProvidersService.ListPaymentProviders",url:u({protoPath:"/api/onboarding/v1/payment-providers",data:i,host:r}),params:(0,o.kI)(i),transformResponse:d}}return f.fromReq=l,f}},26034:function(e,t,n){var o;n.d(t,{G:function(){return P}}),function(e){e[e.TO_JSON=0]="TO_JSON",e[e.FROM_JSON=1]="FROM_JSON"}(o||(o={}));var r,i=n(48511);function a(e,t,n){return void 0===t&&(t={}),function(o,r){return void 0===o&&(o={}),"string"==typeof o?o:a(e,o);function a(e,t){var n={};return[null,void 0].includes(t)?t:(Object.entries(t).forEach((function(t){var o,r,a,u,l=t[0],d=t[1],f=e[l],p=(0,i.L$)(f),m=p.schemaName,g="Map"===p.schemaType;u=(null!==(a=null===(r=null===(o=c(m))||void 0===o?void 0:o.checkRepetable)||void 0===r?void 0:r.call(o,d))&&void 0!==a?a:Array.isArray(d))?d.map((function(e){return s(e,m)})):g?function(e,t){return Object.entries(e).reduce((function(e,n){var o=n[0],r=n[1];return e[o]=s(r,t),e}),{})}(d,m):s(d,m),n[l]=u})),n)}function s(e,n){if(!n)return e;var o=t[n];if(c(n))return c(n).transform(e);if(o)return a(o,e);throw new Error("".concat(n," is neither schema nor serializable type"))}function c(e){var t;return null===(t=n[e])||void 0===t?void 0:t[r]}}}var s,c,u,l,d=((r={types:["google.protobuf.Timestamp"]})[o.TO_JSON]={transform:function(e){return null==e?void 0:e.toISOString()}},r[o.FROM_JSON]={transform:function(e){return e?new Date(e):void 0}},r),f=((s={types:["google.protobuf.FieldMask"]})[o.TO_JSON]={transform:function(e){return e.join(",")},checkRepetable:function(e){return e.some((function(e){return Array.isArray(e)}))}},s[o.FROM_JSON]={transform:function(e){return"object"==typeof e?e.paths:e.split(",")}},s),p=((c={types:["google.protobuf.BytesValue","BYTES"]})[o.TO_JSON]={transform:function(e){var t=e.reduce((function(e,t){return e+String.fromCharCode(t)}),"");return btoa(t)}},c[o.FROM_JSON]={transform:function(e){return Uint8Array.from(atob(e),(function(e){return e.charCodeAt(0)}))}},c),m=((u={types:["google.protobuf.Duration"]})[o.TO_JSON]={transform:function(e){var t=e.seconds,n=void 0===t?"0":t,o=e.nanos,r=void 0===o?0:o,i="";return 0!==r&&(i=".".concat(r.toString().padStart(9,"0"))),"".concat(n).concat(i,"s")}},u[o.FROM_JSON]={transform:function(e){var t=e.substring(0,e.length-1).split(".");return{seconds:t[0],nanos:g(t[1])}}},u);function g(e){var t=0;if(void 0!==e){var n=3-e.length/3;t=parseInt(e,10)*Math.pow(1e3,n)}return t}var v=((l={types:["FLOAT","DOUBLE","google.protobuf.FloatValue","google.protobuf.DoubleValue"]})[o.TO_JSON]={transform:function(e){return isFinite(e)?e:e.toString()}},l[o.FROM_JSON]={transform:function(e){return"NaN"===e?NaN:"Infinity"===e?1/0:"-Infinity"===e?-1/0:e}},l),h=function(){return h=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},h.apply(this,arguments)};var _=function(e,t,n){if(n||2===arguments.length)for(var o,r=0,i=t.length;r<i;r++)!o&&r in t||(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},y=_([],[d,f,p,m,v],!0).reduce((function(e,t){var n=t.types.reduce((function(e,n){var o;return h(h({},e),((o={})[n]=t,o))}),{});return h(h({},e),n)}),{});function P(e,t){void 0===t&&(t={});var n=a(e,t,y);return{fromJSON:function(e){var t=function(e){try{return JSON.parse(e)}catch(e){}}(e)||e;return n(t,o.FROM_JSON)},toJSON:function(e){return n(e,o.TO_JSON)}}}},48511:function(e,t,n){function o(e){void 0===e&&(e="");var t=r(e),n=t[0],o=t[1];return o?{schemaName:o,schemaType:n}:{schemaName:n}}n.d(t,{L$:function(){return o},Kk:function(){return l},kI:function(){return p}});var r=function(e){return e.split("#")};var i="_",a=/{(.*)}/,s=new RegExp("\\.(".concat(["wix.com","editorx.com"].join("|"),")$")),c=new RegExp("\\.(".concat(["42.wixprod.net","uw2-edt-1.wixprod.net"].join("|"),")$")),u=new RegExp(".*\\.".concat("dev.wix-code.com","$"));function l(e){var t,n,o=function(e,t){var n=t[e]||t[i];if(!n&&function(e){return!!e.match(/\._base_domain_$/)}(e))return t[d];return n}(function(e){return e.replace("create.editorx.com","editor.editorx.com")}(e.host).replace(s,"._base_domain_").replace(c,"._api_base_domain_").replace(u,"*.dev.wix-code.com"),e.domainToMappings);return function(e,t){var n=null==t?void 0:t.find((function(t){return e.startsWith(t.destPath)}));if(!n)return e;return n.srcPath+e.slice(n.destPath.length)}((t=e.protoPath,n=e.data||{},t.split("/").map((function(e){return function(e,t){var n=e.match(a)||[],o=n[1];if(o){var r=e.replace(n[0],"");return function(e,t,n,o){for(var r=e,i=0,a=t.split(".");i<a.length;i++){var s=a[i];if(!r)return n;r=r[s]}return"".concat(r).concat(o)}(t,o,e,r)}return e}(e,n)})).join("/")),o)}var d="www._base_domain_";function f(e,t){void 0===t&&(t="");var n={};return Object.entries(e).forEach((function(e){var o=e[0],r=e[1],i=null!==r&&"object"==typeof r&&!Array.isArray(r),a=function(e,t){return"".concat(e).concat(e?".":"").concat(t)}(t,o);if(i){var s=f(r,a);Object.assign(n,s)}else n[a]=r})),n}function p(e){var t=f(e);return Object.entries(t).reduce((function(e,t){var n=t[0],o=t[1];return(Array.isArray(o)?o:[o]).forEach((function(t){null!=t&&e.append(n,t)})),e}),new URLSearchParams)}},83927:function(e,t,n){n.d(t,{G:function(){return o},p:function(){return r}});const o={UNKNOWN:"!unknown!",PAYOUTS:"payouts",PAYOUTS_HISTORY:"payouts-history",UNDER_MINIMUM_AMOUNT:"settlement-report-under-minimum-amount",SCHEDULED_PAYOUT:"settlement-report-scheduled-payout",NEGATIVE_PAYOUT_PAYABLES:"settlement-report-negative-payout",PENDING_PAYOUT_PAYABLES:"settlement-report-pending-payout",SINGLE_PAYOUT_PAYABLES:"settlement-report-single-payout",SINGLE_PAYOUT_GROUP:"settlement-report-single-payout-group",RESERVE_PAYABLES:"settlement-report-reserve",PAYOUT_ON_HOLD:"settlement-report-on-hold",PAYOUT_VERIFIED:"settlement-report-verified",ACCOUNT_BALANCE:"account-balance",TAX_DOCUMENTS:"tax-documents",PAYABLES:"payables"},r={PAYABLES:"settlementReport",PAYOUTS:"payouts",TAX_DOCS:"taxDocuments"}},47562:function(e,t,n){n.d(t,{y:function(){return o}});const o={SIDEBAR_VIEW_PAYOUTS:"SIDEBAR.VIEW_PAYOUTS",SIDEBAR_VIEW_SETTLEMENT_REPORT:"SIDEBAR.VIEW_SETTLEMENT_REPORT",PAYMENTS_TAX_DOCUMENT_READ:"PAYMENTS.TAX_DOCUMENT_READ",PAYMENTS_TAX_DOCUMENT_DOWNLOAD:"PAYMENTS.TAX_DOCUMENT_DOWNLOAD",PAYMENTS_TOPUPS_CREATE_FOR_SITE:"PAYMENTS.TOPUPS_CREATE_FOR_SITE",PAYMENTS_ACCOUNT_UPDATE:"PAYMENTS.ACCOUNT_UPDATE"}},26933:function(e,t,n){n.d(t,{b:function(){return o}});const o={fetchInitialDataUrl:"/_serverless/wix-payments-balance-serverless/api/getInitialData",fetchUserEmailUrl:"/_api/account-settings-server/users",fetchTransactionsUrl:"/_api/payment-dashboard-web/api/merchant/v3/payments"}},2723:function(e,t,n){n.d(t,{r:function(){return o},w:function(){return r}});const o={SiteLevel:"SiteLevel",AccountLevel:"AccountLevel",AccountLevelWixStudio:"AccountLevelWixStudio",BackOffice:"BackOffice"},r={oneOf(e){return e.includes(r.current)},set(e){r.current=e},current:void 0}},24678:function(e,t,n){n.d(t,{c:function(){return o}});const o={US:"us",BR:"br",FR:"fr",ES:"es",GB:"gb",AT:"at",BE:"be",FI:"fi",DE:"de",IE:"ie",NL:"nl",PT:"pt",CH:"ch",IT:"it",LT:"lt",CA:"ca",BG:"bg",HR:"hr",CY:"cy",CZ:"cz",DK:"dk",EE:"ee",GR:"gr",HU:"hu",LV:"lv",LU:"lu",MT:"mt",PL:"pl",RO:"ro",SK:"sk",SI:"si",SE:"se",IS:"is",LI:"li",NO:"no"}},24197:function(t){t.exports=e},1024:function(e){e.exports=t},30314:function(e){e.exports=n},49500:function(e){e.exports=o},39479:function(e){e.exports=r},95772:function(e){e.exports=i}},d={};function f(e){var t=d[e];if(void 0!==t)return t.exports;var n=d[e]={id:e,loaded:!1,exports:{}};return l[e].call(n.exports,n,n.exports,f),n.loaded=!0,n.exports}f.m=l,f.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return f.d(t,{a:t}),t},s=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},f.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var n=Object.create(null);f.r(n);var o={};a=a||[null,s({}),s([]),s(s)];for(var r=2&t&&e;"object"==typeof r&&!~a.indexOf(r);r=s(r))Object.getOwnPropertyNames(r).forEach((function(t){o[t]=function(){return e[t]}}));return o.default=function(){return e},f.d(n,o),n},f.d=function(e,t){for(var n in t)f.o(t,n)&&!f.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},f.f={},f.e=function(e){return Promise.all(Object.keys(f.f).reduce((function(t,n){return f.f[n](e,t),t}),[]))},f.u=function(e){return({309:"cairo-locale-messages_pl-json",913:"cairo-locale-messages_ca-json",1123:"cairo-locale-messages_uk-json",1549:"cairo-locale-messages_nl-json",1723:"cairo-locale-messages_sl-json",1770:"cairo-locale-messages_fi-json",1937:"cairo-locale-messages_zh-json",1953:"cairo-locale-messages_vi-json",2124:"cairo-locale-messages_visuale2e-json",2161:"cairo-locale-messages_el-json",2417:"cairo-locale-messages_pt-json",2514:"cairo-locale-messages_ko-json",2908:"cairo-locale-messages_tr-json",2910:"cairo-locale-messages_hi-json",3080:"cairo-locale-messages_bg-json",3785:"cairo-locale-messages_sk-json",4115:"cairo-locale-messages_th-json",5200:"wix-i18n-config_intl-pluralrules",5307:"cairo-locale-messages_no-json",5346:"cairo-locale-messages_de-json",5483:"cairo-locale-messages_fr-json",5976:"cairo-locale-messages_it-json",6628:"cairo-locale-messages_ms-json",6894:"wix-i18n-config_intl-relativetimeformat",6898:"MagnifyingGlassArt",7073:"cairo-locale-messages_hu-json",7364:"cairo-locale-messages_he-json",7586:"cairo-locale-messages_ja-json",7690:"cairo-locale-messages_id-json",7711:"OfflineIllustration",8540:"cairo-locale-messages_cs-json",8962:"cairo-locale-messages_tl-json",9072:"AddItemEmptyState",9164:"cairo-locale-messages_ro-json",9533:"cairo-locale-messages_lt-json",9610:"cairo-locale-messages_ru-json",9693:"cairo-locale-messages_sv-json",9735:"cairo-locale-messages_da-json",9754:"cairo-locale-messages_es-json",9965:"cairo-locale-messages_ar-json"}[e]||e)+".chunk.min.js"},f.miniCssF=function(e){return e+".chunk.min.css"},f.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),f.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c={},u="_wix_wix_payments_balance:",f.l=function(e,t,n,o){if(c[e])c[e].push(t);else{var r,i;if(void 0!==n)for(var a=document.getElementsByTagName("script"),s=0;s<a.length;s++){var l=a[s];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")==u+n){r=l;break}}r||(i=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,f.nc&&r.setAttribute("nonce",f.nc),r.setAttribute("data-webpack",u+n),r.src=e,0!==r.src.indexOf(window.location.origin+"/")&&(r.crossOrigin="anonymous")),c[e]=[t];var d=function(t,n){r.onerror=r.onload=null,clearTimeout(p);var o=c[e];if(delete c[e],r.parentNode&&r.parentNode.removeChild(r),o&&o.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=d.bind(null,r.onerror),r.onload=d.bind(null,r.onload),i&&document.head.appendChild(r)}},f.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},f.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},f.sti=function(e,t,n,o){if("undefined"!=typeof document){var r=document,i=r.head,a=r.createElement("style");a.setAttribute("st_id",e),a.setAttribute("st_depth",n),a.setAttribute("st_runtime",o),a.textContent=t;for(var s,c=i.querySelectorAll('style[st_runtime="'+o+'"]'),u=!1,l=0;l<c.length;l++){var d=c[l],f=d.getAttribute("st_id"),p=Number(d.getAttribute("st_depth"));if(f!==e)!u&&n<p&&(i.insertBefore(a,d),u=!0),s=d;else{if(p===n)return void i.replaceChild(a,d);d.parentElement.removeChild(d)}}u||(s?i.insertBefore(a,s.nextElementSibling):i.appendChild(a))}},function(e){var t="-",n="--",o="---";function r(e,r,i){return!1===i||null==i||i!=i?"":!0===i?function(e,t){return e+n+t}(e,r):function(e,n,r){return e+o+n+t+r.length+t+r.replace(/\s/gm,"_")}(e,r,i.toString())}(e=e||{}).sts=function(e){for(var t=[],n=1;n<arguments.length;n++){var o=arguments[n];if(o)if("string"==typeof o)t[t.length]=o;else if(2===n)for(var i in o){var a=r(e,i,o[i]);a&&(t[t.length]=a)}}return t.join(" ")},e.stc=function(e,t){var n=[];for(var o in t){var i=r(e,o,t[o]);i&&n.push(i)}return n.join(" ")}}(f),f.p="https://static.parastorage.com/services/wix-payments-balance/60391792a6e9a138542993ef9d10c991ada0c2a7781af81f2cf52b63/",function(){if("undefined"!=typeof document){var e=function(e){return new Promise((function(t,n){var o=f.miniCssF(e),r=f.p+o;if(function(e,t){for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var r=(a=n[o]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(r===e||r===t))return a}var i=document.getElementsByTagName("style");for(o=0;o<i.length;o++){var a;if((r=(a=i[o]).getAttribute("data-href"))===e||r===t)return a}}(o,r))return t();!function(e,t,n,o,r){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.onerror=i.onload=function(n){if(i.onerror=i.onload=null,"load"===n.type)o();else{var a=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=a,c.request=s,i.parentNode&&i.parentNode.removeChild(i),r(c)}},i.href=t,0!==i.href.indexOf(window.location.origin+"/")&&(i.crossOrigin="anonymous"),n?n.parentNode.insertBefore(i,n.nextSibling):document.head.appendChild(i)}(e,r,null,t,n)}))},t={8605:0};f.f.miniCss=function(n,o){t[n]?o.push(t[n]):0!==t[n]&&{306:1,750:1,1634:1,1879:1,2385:1,4738:1,5120:1,5538:1,5815:1,5979:1,7828:1,7917:1,8023:1,9304:1,9706:1}[n]&&o.push(t[n]=e(n).then((function(){t[n]=0}),(function(e){throw delete t[n],e})))}}}(),function(){var e={8605:0};f.f.j=function(t,n){var o=f.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var r=new Promise((function(n,r){o=e[t]=[n,r]}));n.push(o[2]=r);var i=f.p+f.u(t),a=new Error;f.l(i,(function(n){if(f.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var r=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",a.name="ChunkLoadError",a.type=r,a.request=i,o[1](a)}}),"chunk-"+t,t)}};var t=function(t,n){var o,r,i=n[0],a=n[1],s=n[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(o in a)f.o(a,o)&&(f.m[o]=a[o]);if(s)s(f)}for(t&&t(n);c<i.length;c++)r=i[c],f.o(e,r)&&e[r]&&e[r][0](),e[r]=0},n=("undefined"!=typeof self?self:this).webpackJsonp__wix_wix_payments_balance=("undefined"!=typeof self?self:this).webpackJsonp__wix_wix_payments_balance||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var p={};return function(){f.r(p);var e,t,n,o=f(24197);const r={id:"wix-payments-title",label:"menu.financialTools.wixPayments",visibleInSiteless:!0},i={id:"wix-payments-payouts",label:"menu.financialTools.payouts",biName:"WixPaymentsPayouts",navigateToConfig:{pageComponentId:null===(e=window.BusinessManagerAPI)||void 0===e?void 0:e.PageComponentId.WixPaymentsPayouts},visibleInSiteless:!0},a={id:"wix-payments-payables",label:"menu.financialTools.payables",biName:"WixPaymentsPayables",navigateToConfig:{pageComponentId:null===(t=window.BusinessManagerAPI)||void 0===t?void 0:t.PageComponentId.WixPaymentsPayables},visibleInSiteless:!0},s={id:"wix-payments-tax-docs",label:"menu.financialTools.taxDocs",biName:"WixPaymentsTaxDocs",navigateToConfig:{pageComponentId:null===(n=window.BusinessManagerAPI)||void 0===n?void 0:n.PageComponentId.WixPaymentsTaxDocs},visibleInSiteless:!0,visibleByExperiments:{"specs.EnableTaxDocumentsInSettlementReport":"true"}};var c=f(47562),u=f(24678),l=f(2723),d=f(95772),m=f(83927);const g=e=>{var t,n,o;const{componentId:r,appEssentials:i,executionContext:a,moduleConfig:s}=e,c={[null===(t=window.BusinessManagerAPI)||void 0===t?void 0:t.PageComponentId.WixPaymentsPayouts]:{appType:m.p.PAYOUTS,appRoute:"payouts-dashboard"},[null===(n=window.BusinessManagerAPI)||void 0===n?void 0:n.PageComponentId.WixPaymentsPayables]:{appType:m.p.PAYABLES,appRoute:"settlement-report"},[null===(o=window.BusinessManagerAPI)||void 0===o?void 0:o.PageComponentId.WixPaymentsTaxDocs]:{appType:m.p.TAX_DOCS,appRoute:"tax-documents"}};return d.ModuleRegistry.registerComponent(r,(()=>(0,d.ReactLoadableComponent)(r,(async()=>{const{createAppWithProviders:e}=await Promise.all([f.e(306),f.e(2360),f.e(7465),f.e(5979)]).then(f.bind(f,33706));return i.createFedopsLogger(r).appLoadStarted(),{default:e({componentId:r,appRoute:c[r].appRoute,appType:c[r].appType}),config:s,appEssentials:i,executionContext:a}}))))};var v=f(4682),h=f(26933);class _ extends o.BusinessManagerModule{constructor(){super(...arguments),this.executionContext=l.r.SiteLevel,this.hasPermission=e=>this.userPermissions.includes(e),this.hasViewPermission=()=>this.hasPermission(c.y.SIDEBAR_VIEW_PAYOUTS)||this.hasPermission(c.y.SIDEBAR_VIEW_SETTLEMENT_REPORT),this.hasTaxDocsPermissions=()=>this.hasPermission(c.y.PAYMENTS_TAX_DOCUMENT_READ)&&this.hasPermission(c.y.PAYMENTS_TAX_DOCUMENT_DOWNLOAD),this.getConnectedProviders=async()=>(await this.appEssentials.httpClient.request((0,v.dV)({}))).data.providers}init(e){var t,n,o;this.userPermissions=e.userPermissions,this.moduleConfig=e.config,g({componentId:null===(t=window.BusinessManagerAPI)||void 0===t?void 0:t.PageComponentId.WixPaymentsPayouts,appEssentials:this.appEssentials,executionContext:this.executionContext,moduleConfig:this.moduleConfig}),g({componentId:null===(n=window.BusinessManagerAPI)||void 0===n?void 0:n.PageComponentId.WixPaymentsPayables,appEssentials:this.appEssentials,executionContext:this.executionContext,moduleConfig:this.moduleConfig}),g({componentId:null===(o=window.BusinessManagerAPI)||void 0===o?void 0:o.PageComponentId.WixPaymentsTaxDocs,appEssentials:this.appEssentials,executionContext:this.executionContext,moduleConfig:this.moduleConfig})}async getSidebarConfig(){var e,t;const n={slotItems:{"wix-payments-balance-slot":[r,i,a]}};if(!this.hasViewPermission())return;const o=await this.getConnectedProviders(),c=null==o?void 0:o.find((({id:e})=>"com.wix.wixpay.us"===e)),l=c?c.accountId:void 0;if(l){const t=async e=>(await fetch(`${h.b.fetchTransactionsUrl}/totals?wixPaymentsAccountId=${e.wixPaymentsAccountId}&filter.limit=${e.filter.limit}`)).json();this.totalTransactionsCount=null===(e=(await t({wixPaymentsAccountId:l,filter:{limit:1}})).totals)||void 0===e?void 0:e.length}const d=this.totalTransactionsCount&&this.totalTransactionsCount>0,f=null==o?void 0:o.some((e=>{var t,n;return(null==e?void 0:e.country)&&(null===(t=null==e?void 0:e.country)||void 0===t?void 0:t.toLowerCase())!==u.c.US&&(null===(n=e.enabledMethodIds)||void 0===n?void 0:n.length)>0})),p=(null===(t=null==c?void 0:c.enabledMethodIds)||void 0===t?void 0:t.length)>0||!1;if(c&&!p&&f)return n;if((!c||p||d)&&c&&c){if(c&&this.hasTaxDocsPermissions()&&d)return Object.assign(Object.assign({},n),{slotItems:{"wix-payments-balance-slot":[...n.slotItems["wix-payments-balance-slot"],s]}});if(p)return n}}}(0,o.registerModule)(window.BusinessManagerAPI.ModuleId.WixPaymentsBalance,_)}(),p}()}));
//# sourceMappingURL=wix-payments-bm-module.umd.min.js.map