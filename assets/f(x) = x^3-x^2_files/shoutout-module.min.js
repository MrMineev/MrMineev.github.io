!function(){var e,t,n,o,a={51570:function(e){e.exports={DEFAULT_LOCALE:"en",MOMENT_LOCALES:["pt","vi","lv","gl","pl","mr","el","et","is","sl","nn","ko","hr","ms","fi","th","jv","ru","eu","mk","sq","si","ja","ka","he","bg","my","uz","ne","af","id","az","me","lb","ca","ta","cy","nb","be","da","fa","de","fy","bs","sv","hi","uk","cs","km","fr","nl","sr","hu","lt","ml","bo","fo","ar","cv","sk","it","es","bn","eo","ro","br","tr"]}},15323:function(e,t,n){var o={"./messages_ar.json":[98424,1081],"./messages_bg.json":[32677,5380],"./messages_ca.json":[50575,5215],"./messages_cs.json":[15809,789],"./messages_da.json":[75142,5151],"./messages_de.json":[37895,1722],"./messages_el.json":[90270,909],"./messages_en.json":[78592,5012],"./messages_es.json":[7043,8757],"./messages_fi.json":[5072,3030],"./messages_fr.json":[69163,8736],"./messages_he.json":[44224,2244],"./messages_hi.json":[15563,6757],"./messages_hr.json":[95112,8111],"./messages_hu.json":[9595,9082],"./messages_id.json":[66751,4667],"./messages_it.json":[59109,3134],"./messages_ja.json":[84313,3968],"./messages_ko.json":[25540,9248],"./messages_lt.json":[28292,4178],"./messages_lv.json":[34268,5123],"./messages_ms.json":[67637,4060],"./messages_nl.json":[24986,3166],"./messages_no.json":[57473,4103],"./messages_pl.json":[35483,5954],"./messages_pt.json":[50094,7168],"./messages_ro.json":[99821,300],"./messages_ru.json":[15699,5528],"./messages_sk.json":[99645,1784],"./messages_sl.json":[82218,4634],"./messages_sv.json":[65675,2928],"./messages_th.json":[33701,627],"./messages_tl.json":[79482,2730],"./messages_tr.json":[1417,9],"./messages_uk.json":[26485,6644],"./messages_vi.json":[4091,485],"./messages_zh.json":[16392,3949],"./messages_zu.json":[3165,5818]};function a(e){if(!n.o(o,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],a=t[0];return n.e(t[1]).then((function(){return n.t(a,19)}))}a.keys=function(){return Object.keys(o)},a.id=15323,e.exports=a},36646:function(e,t,n){var o={"./messages_ar.json":[53416,3416],"./messages_bg.json":[31521,1521],"./messages_ca.json":[71079,1079],"./messages_cs.json":[7360,7360],"./messages_da.json":[60501,501],"./messages_de.json":[97096,7096],"./messages_el.json":[96409,6409],"./messages_en.json":[47928,7928],"./messages_es.json":[39783,9783],"./messages_fi.json":[87760,7760],"./messages_fr.json":[8455,8455],"./messages_he.json":[43366,3366],"./messages_hi.json":[10127,127],"./messages_hr.json":[89193,9193],"./messages_hu.json":[27031,7031],"./messages_id.json":[97352,7352],"./messages_it.json":[42900,2900],"./messages_ja.json":[39689,9689],"./messages_ko.json":[50380,380],"./messages_lt.json":[40400,400],"./messages_lv.json":[53907,3907],"./messages_ms.json":[99823,9823],"./messages_nl.json":[96753,6753],"./messages_no.json":[87946,7946],"./messages_pl.json":[7317,7317],"./messages_pt.json":[83775,3775],"./messages_ro.json":[88202,8202],"./messages_ru.json":[93047,3047],"./messages_sk.json":[50493,493],"./messages_sl.json":[63823,3823],"./messages_sv.json":[15619,5619],"./messages_th.json":[57850,7850],"./messages_tl.json":[1984,1984],"./messages_tr.json":[93193,3193],"./messages_uk.json":[44729,4729],"./messages_vi.json":[21219,1219],"./messages_zh.json":[24928,4928]};function a(e){if(!n.o(o,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],a=t[0];return n.e(t[1]).then((function(){return n.t(a,19)}))}a.keys=function(){return Object.keys(o)},a.id=36646,e.exports=a},6304:function(e){"use strict";e.exports=BusinessManagerAPI},12611:function(e){"use strict";e.exports=_},65311:function(e){"use strict";e.exports=jQuery},74481:function(e){"use strict";e.exports=reactModuleContainer}},s={};function i(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={id:e,loaded:!1,exports:{}};return a[e].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}i.m=a,i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},i.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"==typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"==typeof n.then)return n}var a=Object.create(null);i.r(a);var s={};e=e||[null,t({}),t([]),t(t)];for(var r=2&o&&n;"object"==typeof r&&!~e.indexOf(r);r=t(r))Object.getOwnPropertyNames(r).forEach((function(e){s[e]=function(){return n[e]}}));return s.default=function(){return n},i.d(a,s),a},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=function(e){return Promise.all(Object.keys(i.f).reduce((function(t,n){return i.f[n](e,t),t}),[]))},i.u=function(e){return({9:"i18n-33",300:"i18n-26",485:"i18n-35",627:"i18n-31",789:"i18n-3",909:"i18n-6",1081:"i18n-0",1261:"shoutout-email-model-v3",1722:"i18n-5",1784:"i18n-28",2244:"i18n-11",2730:"i18n-32",2928:"i18n-30",3030:"i18n-9",3134:"i18n-16",3166:"i18n-22",3949:"i18n-36",3968:"i18n-17",4060:"i18n-21",4103:"i18n-23",4178:"i18n-19",4634:"i18n-29",4667:"i18n-15",5012:"i18n-7",5123:"i18n-20",5151:"i18n-4",5215:"i18n-2",5380:"i18n-1",5528:"i18n-27",5599:"http-client",5818:"i18n-37",5954:"i18n-24",6644:"i18n-34",6757:"i18n-12",7168:"i18n-25",8111:"i18n-13",8736:"i18n-10",8757:"i18n-8",9082:"i18n-14",9248:"i18n-18"}[e]||e)+".js"},i.miniCssF=function(e){},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n={},o="@wix/shoutout:",i.l=function(e,t,a,s){if(n[e])n[e].push(t);else{var r,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var p=c[u];if(p.getAttribute("src")==e||p.getAttribute("data-webpack")==o+a){r=p;break}}r||(l=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,i.nc&&r.setAttribute("nonce",i.nc),r.setAttribute("data-webpack",o+a),r.src=e),n[e]=[t];var d=function(t,o){r.onerror=r.onload=null,clearTimeout(m);var a=n[e];if(delete n[e],r.parentNode&&r.parentNode.removeChild(r),a&&a.forEach((function(e){return e(o)})),t)return t(o)},m=setTimeout(d.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=d.bind(null,r.onerror),r.onload=d.bind(null,r.onload),l&&document.head.appendChild(r)}},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},i.p="",function(){var e={4836:0};i.f.j=function(t,n){var o=i.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var a=new Promise((function(n,a){o=e[t]=[n,a]}));n.push(o[2]=a);var s=i.p+i.u(t),r=new Error;i.l(s,(function(n){if(i.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var a=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;r.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",r.name="ChunkLoadError",r.type=a,r.request=s,o[1](r)}}),"chunk-"+t,t)}};var t=function(t,n){var o,a,s=n[0],r=n[1],l=n[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(o in r)i.o(r,o)&&(i.m[o]=r[o]);if(l)l(i)}for(t&&t(n);c<s.length;c++)a=s[c],i.o(e,a)&&e[a]&&e[a][0](),e[a]=0},n=self.webpackChunk_wix_shoutout=self.webpackChunk_wix_shoutout||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),function(){"use strict";var e=i(6304),t=Sentry,n=i(74481),o=angular,a=function(){function e(e,t,n,o,a){var s=this;this.DynamicTemplateManager=e,this.MessageService=t,this.soBiLogger=n,this.$injector=o,this.$timeout=a,this.onDone=function(e){s.logDynamicTemplateOnDone(),s.DynamicTemplateManager.useTemplate(s.template,e.params).catch((function(t){console.error("dynamic template use failed",t,e)})).finally((function(){this.template=null}))},this.onCancel=function(){s.$timeout((function(){s.logDynamicTemplateOnCancel(),s.template=null}))},this.logDynamicTemplateOnDone=function(){s.soBiLogger.log("DYNAMIC_TEMPLATE_USE_ON_DONE",{template_list_name:s.listName,template_name:s.template.title})},this.logDynamicTemplateOnCancel=function(){s.soBiLogger.log("DYNAMIC_TEMPLATE_USE_ON_CANCEL",{template_list_name:s.listName,template_name:s.template.title})},this.bsmProps=o.get("props")(),this.injectionComponent=e.getDynamicComponentName(this.template)}return e.$inject=["DynamicTemplateManager","MessageService","soBiLogger","$injector","$timeout"],e}(),s=i(51570),r=function(e){var t=["text","mix","button","html","item_grid"];return e.regions=e.regions.map((function(e){if(!t.includes(e.type)){var n=JSON.stringify(e.data),o=n.replace(/</g,"&lt;").replace(/>/g,"&gt;");return e.data=JSON.parse(o),e}return e})),e},l=function(e){return(e="string"==typeof e?JSON.parse(e):e)&&e.data&&e.data.composerData&&(e.data.composerData=JSON.parse(e.data.composerData),e.data.composerData=r(e.data.composerData)),e},c=function(e){for(var t in e)e[t]="true"===e[t]||"false"!==e[t]&&e[t];return e};function u(e,t){return void 0===t&&(t=s.DEFAULT_LOCALE),e!==t&&-1!==s.MOMENT_LOCALES.indexOf(e)}var p="shoutout-analytics",d="automations-email-analytics-lazy-component";var m=function(e){for(var t=0,n=window.location.search.substring(1).split("&");t<n.length;t++){var o=n[t].split("="),a=o[0],s=o[1];if(decodeURIComponent(a)===e)return decodeURIComponent(s)}};function g(){this.getInstance=function(){return(0,e.getCurrentInstance)(e.appDefIds.shoutout)}}var f=function(){return f=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},f.apply(this,arguments)};function h(e){(0,o.module)("so.analytics").component("soReactAnalytics",{bindings:{biProps:"=",message:"=",context:"=",shareEnabled:"=",enablePrivacyNotification:"="},template:'<module-registry\n      component="'.concat(p,'"\n      props="{\n        messageId: $ctrl.messageId,\n        soProps: $ctrl.soProps,\n        translationContext: $ctrl.context,\n        shareEnabled: $ctrl.shareEnabled,\n        enablePrivacyNotification: $ctrl.enablePrivacyNotification,\n      }">\n    </module-registry>'),controller:function(){this.soProps=f(f({},e),{biProps:this.biProps}),this.messageId=this.message.messageId},controllerAs:"$ctrl"})}var b="ascend-upgrade-button-lazy-component",y="ascend-badge-lazy-component";var v,E,T,S=function(e,t,n,o){return new(n||(n=Promise))((function(a,s){function i(e){try{l(o.next(e))}catch(e){s(e)}}function r(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,r)}l((o=o.apply(e,t||[])).next())}))},w=function(e,t){var n,o,a,s,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(s){return function(r){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&s[0]?o.return:s[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,s[1])).done)return a;switch(o=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,o=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],o=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,r])}}};function _(e){return S(this,void 0,void 0,(function(){return w(this,(function(t){switch(t.label){case 0:return[4,i(15323)("./messages_"+e+".json")];case 1:return[2,t.sent().default]}}))}))}function A(e){var t=e.staticsUrl,n=e.locale;return S(this,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return i.p=t,[4,_(n)];case 1:return function(e,t){try{o.module("wixShoutoutTranslations")}catch(e){o.module("wixShoutoutTranslations",["pascalprecht.translate"])}o.module("wixShoutoutTranslations").config(["$translateProvider",function(n){n.translations(t,e),n.preferredLanguage&&n.preferredLanguage(t)}])}(e.sent(),n),[2]}}))}))}!function(e){e[e.EmailMarketing=0]="EmailMarketing",e[e.Automations=1]="Automations",e[e.Apes=2]="Apes",e[e.TriggeredEmails=3]="TriggeredEmails"}(v||(v={})),function(e){e[e.User=0]="User",e[e.PM=1]="PM",e[e.Writer=2]="Writer",e[e.Partner=3]="Partner"}(E||(E={})),function(e){e.Apes="apes",e.Automations="transactional-emails-automations",e.EmailMarketing="business-manager",e.TriggeredEmails="transactional-emails",e.Shoutout="shoutout"}(T||(T={}));var P,I=i(12611);!function(e){e.IsDayfulSite="BOOKINGS_NAMESPACES_BM.methods.isDayfulSite",e.IsEditorlessSite="BOOKINGS_NAMESPACES_BM.methods.isEditorless"}(P||(P={}));const N=(0,I.once)((()=>({isDayful:(()=>{const e=n.ModuleRegistry.invoke(P.IsDayfulSite);return void 0!==e&&e})(),isEditorless:(()=>{const e=n.ModuleRegistry.invoke(P.IsEditorlessSite);return void 0!==e&&e})()})));var O,C,M=((O={})[v.EmailMarketing]=function(t){var o,a,s=t.props,i=t.data,r=t.apiUrl,l=t.experiments,c=t.instance,u=t.crmApiUrl,p=t.msdEnabled,d=JSON.parse(i.userPackage),m=-1!==s.metasiteNamespaces.indexOf("HEADLESS"),g=!!l["specs.so.ui.DesignerMode"],f=!!(0,e.isAppInstalled)(e.appDefIds.socialBlog),h=!!(0,e.isAppInstalled)(e.appDefIds.wixStores);return{apiUrl:r,biHost:"frog.wix.com",backLeadsToAutomations:!1,clientId:i.clientId||"",instance:c,instanceId:s.instanceId,locale:s.accountLanguage,mandatoryBiFields:n.ModuleRegistry.invoke("businessManager.getMandatoryBIFields"),mediaGalleryStaticUrl:i.clientTopology.mediaGalleryG5StaticsPartialsUrl,metaSiteId:s.metaSiteId,pageType:"so-app",privateMediaSiteToken:window.__MEDIA_TOKEN__,senderSetupStaticsUrl:s.config.topology.senderSetupStaticsUrl,shoutoutTranslationsUrl:(s.config.topology||s.topology).shoutoutTranslationsUrl,siteUrl:i.userSiteUrl||(m?"":"https://wix.com"),staticsUrl:(s.config.topology||s.topology).shoutoutStaticsUrl,translationPrefix:"",dynamicFieldsNoteKey:"TEST_MAIL.NOTE_DYNAMIC_FIELDS_TEST",userData:JSON.parse(i.userData)||{footer:null,logo:"{}"},userId:s.userId,userPackage:d,version:i.clientTopology.version,isSchedulingEnabled:!0,messageTranslations:!1,isTranslationVisible:!1,showMultilingualTranslation:!1,crmApiUrl:u,isComposerBackButtonEnabled:!0,payload:(null===(o=n.ModuleRegistry.getModule(e.ModuleId.Shoutout))||void 0===o?void 0:o.getConfigPayload())||[],verticalPriorities:e.ModulePriorities,isEmPersonalized:!0,importContactsThroughContactsApp:!0,showThemesPanel:!0,showOnboardingHelpers:!0,showContactsFilters:!l["specs.so.ui.DeprecateContactsFilters"],showPlansUiAndFirstTimeExperience:!0,autoSaveStrategy:"DEFAULT",liveEditingToastVisibility:"DEFAULT",biContext:T.EmailMarketing,saveMessageBaseUrl:"",coBranding:s.coBranding,isBackAlwaysVisible:!1,removeAutomationsToast:!1,enableLogoDynamicOptions:!1,isDynamicImageEnabled:!1,isDynamicLinkEnabled:!1,isSubjectLineInComposer:!1,isTitleRegionHtmlEnabled:!1,isTransactionalEmails:!1,enablePreheader:!1,saveOriginalMessage:!1,keepTrackOfApplicationState:!0,resetToInitialMessageDataOnLeave:!1,headerType:"default",splitAutoEmailsNavigation:!1,useExternalBacklinkConfigForComposerNavigation:!1,defaultStylesContainMargins:!1,allowPlaceholderFormatters:!1,showPlaceholdersPreviewType:!1,useReactSenderSetupModal:!0,showAd:!(null===(a=null==d?void 0:d.features)||void 0===a?void 0:a.RemoveWixBranding),showUnsubscribeNote:!0,showHtmlPreviewNote:!1,canControlMandatoryRegions:!1,canEditMandatoryRegions:!1,enableFreeTextPlaceholders:!1,replaceDeepLinkLocation:!1,enableConditionsManagement:!1,enableConditionsActions:!1,enableConditions:!1,passLanguageToHtmlPreview:!1,enableRegionUpDown:!0,enableDragEvent:!0,canConnectRepeaters:!1,disableLockedRegionDuplication:!1,allowFallbacksManagement:!1,showTMobileNotification:l["specs.so.ui.ShowTMobileNotification"],showResendToNonOpeners:!0,enableSegments:!0,isStandaloneFormEnabled:!m,isLogoBuilderEnabled:!0,blogFirstTimeExperience:f,useNewMessageListApi:!0,enableFooterAdForPremiums:!g,enablePreheaderInReactComposer:!1,enableReusingEmails:!1,cleanUpSiteUrls:!0,enableProductSection:l["specs.so.ui.EnableProductSection"]&&h,enableMultipleArraySamples:!1,multipleSenderDetailsEnabled:p,showHomeButtonLabel:!1,aiMessagesEnabled:l["specs.so.ui.AIMessage"],translateSingleLanguage:!1}},O[v.Automations]=function(e){var t,o=e.props,a=e.data,s=e.apiUrl,i=e.businessSettings,r=e.instance,l=e.crmApiUrl,c=e.experiments,u=e.msdEnabled,p=e.injectedMessage,d=JSON.parse(a.userPackage),m=-1!==o.metasiteNamespaces.indexOf("HEADLESS"),g=N().isDayful;return{apiUrl:s,backLeadsToAutomations:!0,biHost:"frog.wix.com",clientId:a.clientId||"",instance:r,instanceId:o.instanceId,isBackAlwaysVisible:!0,locale:o.accountLanguage,mandatoryBiFields:n.ModuleRegistry.invoke("businessManager.getMandatoryBIFields"),mediaGalleryStaticUrl:a.clientTopology.mediaGalleryG5StaticsPartialsUrl,metaSiteId:o.metaSiteId,pageType:"transactional-emails-app",privateMediaSiteToken:window.__MEDIA_TOKEN__,senderSetupStaticsUrl:o.config.topology.senderSetupStaticsUrl,shoutoutTranslationsUrl:(o.config.topology||o.topology).shoutoutTranslationsUrl,siteUrl:a.userSiteUrl||(m?"":"https://wix.com"),staticsUrl:(o.config.topology||o.topology).shoutoutStaticsUrl,translationPrefix:"TE.",dynamicFieldsNoteKey:"TEST_MAIL.NOTE_DYNAMIC_FIELDS_TEST",userData:a.userData?JSON.parse(a.userData):null,userId:o.userId,userPackage:d,version:a.clientTopology.version,removeAutomationsToast:!0,messageTranslations:!0,isTranslationVisible:!1,showMultilingualTranslation:!1,businessSettings:i,enableLogoDynamicOptions:!0,crmApiUrl:l,payload:"",verticalPriorities:[],biContext:T.Automations,isDynamicImageEnabled:!0,isDynamicLinkEnabled:!0,saveMessageBaseUrl:s+"transactional/",isSubjectLineInComposer:!0,isTitleRegionHtmlEnabled:!0,isTransactionalEmails:!0,coBranding:o.coBranding,enablePreheader:!0,isSchedulingEnabled:!1,isComposerBackButtonEnabled:!1,isEmPersonalized:!1,importContactsThroughContactsApp:!1,showThemesPanel:!0,showOnboardingHelpers:!1,showContactsFilters:!1,showPlansUiAndFirstTimeExperience:!1,autoSaveStrategy:"DEFAULT",liveEditingToastVisibility:"DEFAULT",saveOriginalMessage:c["specs.so.app.ShouldPublishAutomationCampaignTranslationOnCreation2"],keepTrackOfApplicationState:!1,resetToInitialMessageDataOnLeave:c["specs.so.app.ShouldPublishAutomationCampaignTranslationOnCreation2"],initialMessageStorageKey:"cachedMessage:".concat(o.metaSiteId,":").concat(null==p?void 0:p.messageId),messageSavedStorageKey:"isMessageSavedAtLeastOnce:".concat(o.metaSiteId,":").concat(null==p?void 0:p.messageId),headerType:"automations-header",splitAutoEmailsNavigation:!0,useExternalBacklinkConfigForComposerNavigation:!0,defaultStylesContainMargins:!1,allowPlaceholderFormatters:!0,showPlaceholdersPreviewType:!1,useReactSenderSetupModal:!1,showAd:!(null===(t=null==d?void 0:d.features)||void 0===t?void 0:t.RemoveWixBranding),showUnsubscribeNote:!0,canControlMandatoryRegions:!0,canEditMandatoryRegions:c["specs.so.ui.AllowEditingLockedRegionsForWriters"],enableFreeTextPlaceholders:!1,replaceDeepLinkLocation:!1,enableConditionsManagement:!0,enableConditionsActions:!0,enableConditions:!0,passLanguageToHtmlPreview:c["specs.so.ui.PassLanguageToPreviewInAutomations"],canConnectRepeaters:!0,disableLockedRegionDuplication:!1,allowFallbacksManagement:!1,enableRegionUpDown:!0,showTMobileNotification:!1,showResendToNonOpeners:!1,enableSegments:!1,isStandaloneFormEnabled:!g&&!m,isLogoBuilderEnabled:!g,useNewMessageListApi:!1,enablePreheaderInReactComposer:!0,showHtmlPreviewNote:!1,blogFirstTimeExperience:!1,enableFooterAdForPremiums:!1,enableReusingEmails:!0,cleanUpSiteUrls:!1,enableProductSection:!1,enableMultipleArraySamples:c["specs.so.ui.EnableMultipleArraySamplesInAutomations"],multipleSenderDetailsEnabled:u,showHomeButtonLabel:!0,aiMessagesEnabled:!1,translateSingleLanguage:c["specs.so.ui.enableWritersFlowInAutomations"]}},O[v.Apes]=function(e){var t,o=e.props,a=e.data,s=e.apiUrl,i=e.experiments,r=e.businessSettings,l=e.instance,c=e.crmApiUrl,u=e.injectedMessage,p=e.msdEnabled,d=JSON.parse(a.userPackage),g=-1!==o.metasiteNamespaces.indexOf("HEADLESS"),f=N().isDayful;return{apiUrl:s,biHost:"frog.wix.com",backLeadsToAutomations:!0,clientId:a.clientId||"",instance:l,instanceId:o.instanceId,isBackAlwaysVisible:!0,locale:o.accountLanguage,mandatoryBiFields:n.ModuleRegistry.invoke("businessManager.getMandatoryBIFields"),mediaGalleryStaticUrl:a.clientTopology.mediaGalleryG5StaticsPartialsUrl,metaSiteId:o.metaSiteId,pageType:"transactional-emails-app",privateMediaSiteToken:window.__MEDIA_TOKEN__,senderSetupStaticsUrl:o.config.topology.senderSetupStaticsUrl,shoutoutTranslationsUrl:(o.config.topology||o.topology).shoutoutTranslationsUrl,siteUrl:a.userSiteUrl||(g?"":"https://wix.com"),staticsUrl:(o.config.topology||o.topology).shoutoutStaticsUrl,translationPrefix:"TE.",dynamicFieldsNoteKey:"APES.TEST_MAIL.NOTE_DYNAMIC_FIELDS_TEST",userData:a.userData?JSON.parse(a.userData):null,userId:o.userId,userPackage:d,version:a.clientTopology.version,removeAutomationsToast:!0,messageTranslations:!0,isTranslationVisible:!0,showMultilingualTranslation:!0,businessSettings:r,enableLogoDynamicOptions:!0,crmApiUrl:c,payload:"",verticalPriorities:[],biContext:T.Apes,isDynamicImageEnabled:!0,isDynamicLinkEnabled:!0,saveMessageBaseUrl:s,isSubjectLineInComposer:!0,isTitleRegionHtmlEnabled:!0,isTransactionalEmails:!0,coBranding:o.coBranding,enablePreheader:!0,isSchedulingEnabled:!1,isComposerBackButtonEnabled:!1,isEmPersonalized:!1,importContactsThroughContactsApp:!1,showThemesPanel:i["specs.so.ui.ApesThemes"],showOnboardingHelpers:!1,showContactsFilters:!1,showPlansUiAndFirstTimeExperience:!1,autoSaveStrategy:"ON_DEMAND",liveEditingToastVisibility:"NONE",saveOriginalMessage:!0,keepTrackOfApplicationState:!1,resetToInitialMessageDataOnLeave:!0,initialMessageStorageKey:"cachedMessage:".concat(o.metaSiteId,":").concat(null==u?void 0:u.messageId),messageSavedStorageKey:"isMessageSavedAtLeastOnce:".concat(o.metaSiteId,":").concat(null==u?void 0:u.messageId),headerType:"apes-header",splitAutoEmailsNavigation:!0,useExternalBacklinkConfigForComposerNavigation:!0,defaultStylesContainMargins:!0,allowPlaceholderFormatters:!0,showPlaceholdersPreviewType:!0,useReactSenderSetupModal:!1,showAd:"true"===m("showAd")&&!(null===(t=null==d?void 0:d.features)||void 0===t?void 0:t.RemoveWixBranding),showUnsubscribeNote:"true"===m("showUnsubscribe"),showHtmlPreviewNote:!0,canControlMandatoryRegions:!0,canEditMandatoryRegions:!0,enableFreeTextPlaceholders:!0,replaceDeepLinkLocation:!0,skipMixRegionMutation:!0,enableConditionsManagement:!0,enableConditionsActions:!0,enableConditions:!0,passLanguageToHtmlPreview:!0,canConnectRepeaters:!0,disableLockedRegionDuplication:!0,allowFallbacksManagement:!0,useBackToast:!!m("useBackToast"),isMultilingualApeFlow:"true"===m("isMultilingualApeFlow"),postApePublishAction:m("postApePublishAction"),apeRuleId:m("apeRuleId"),showTMobileNotification:!1,showResendToNonOpeners:!1,enableSegments:!1,isStandaloneFormEnabled:!f&&!g,isLogoBuilderEnabled:!f,useNewMessageListApi:!1,enablePreheaderInReactComposer:!0,blogFirstTimeExperience:!1,enableFooterAdForPremiums:!1,enableReusingEmails:!1,cleanUpSiteUrls:!1,enableProductSection:!1,enableMultipleArraySamples:!1,multipleSenderDetailsEnabled:p,showHomeButtonLabel:!0,aiMessagesEnabled:!1,translateSingleLanguage:!1}},O[v.TriggeredEmails]=function(e){var t,o=e.props,a=e.data,s=e.apiUrl,i=e.businessSettings,r=e.instance,l=e.crmApiUrl,c=e.msdEnabled,u=JSON.parse(a.userPackage),p=-1!==o.metasiteNamespaces.indexOf("HEADLESS");return{apiUrl:s,backLeadsToAutomations:!1,biHost:"frog.wix.com",clientId:a.clientId||"",instance:r,instanceId:o.instanceId,isBackAlwaysVisible:!0,locale:o.accountLanguage,mandatoryBiFields:n.ModuleRegistry.invoke("businessManager.getMandatoryBIFields"),mediaGalleryStaticUrl:a.clientTopology.mediaGalleryG5StaticsPartialsUrl,metaSiteId:o.metaSiteId,pageType:"transactional-emails-app",privateMediaSiteToken:window.__MEDIA_TOKEN__,senderSetupStaticsUrl:o.config.topology.senderSetupStaticsUrl,shoutoutTranslationsUrl:(o.config.topology||o.topology).shoutoutTranslationsUrl,siteUrl:a.userSiteUrl||(p?"":"https://wix.com"),staticsUrl:(o.config.topology||o.topology).shoutoutStaticsUrl,translationPrefix:"TE.",dynamicFieldsNoteKey:"TEST_MAIL.NOTE_DYNAMIC_FIELDS_TEST",userData:a.userData?JSON.parse(a.userData):null,userId:o.userId,userPackage:u,version:a.clientTopology.version,removeAutomationsToast:!0,messageTranslations:!1,isTranslationVisible:!1,showMultilingualTranslation:!1,businessSettings:i,enableLogoDynamicOptions:!0,crmApiUrl:l,payload:"",verticalPriorities:[],biContext:T.TriggeredEmails,isDynamicImageEnabled:!0,isDynamicLinkEnabled:!0,saveMessageBaseUrl:s+"transactional/",isSubjectLineInComposer:!0,isTitleRegionHtmlEnabled:!0,isTransactionalEmails:!0,coBranding:o.coBranding,enablePreheader:!1,isSchedulingEnabled:!1,isComposerBackButtonEnabled:!1,isEmPersonalized:!1,importContactsThroughContactsApp:!1,showThemesPanel:!0,showOnboardingHelpers:!1,showContactsFilters:!1,showPlansUiAndFirstTimeExperience:!1,autoSaveStrategy:"DEFAULT",liveEditingToastVisibility:"DEFAULT",saveOriginalMessage:!1,keepTrackOfApplicationState:!1,resetToInitialMessageDataOnLeave:!1,headerType:"te-header",splitAutoEmailsNavigation:!0,useExternalBacklinkConfigForComposerNavigation:!1,defaultStylesContainMargins:!1,allowPlaceholderFormatters:!1,showPlaceholdersPreviewType:!1,useReactSenderSetupModal:!0,showAd:!(null===(t=null==u?void 0:u.features)||void 0===t?void 0:t.RemoveWixBranding),showUnsubscribeNote:!0,canControlMandatoryRegions:!1,canEditMandatoryRegions:!1,enableFreeTextPlaceholders:!1,replaceDeepLinkLocation:!1,enableConditionsManagement:!1,enableConditionsActions:!1,enableConditions:!1,passLanguageToHtmlPreview:!1,canConnectRepeaters:!1,disableLockedRegionDuplication:!1,allowFallbacksManagement:!1,enableRegionUpDown:!0,showTMobileNotification:!1,showResendToNonOpeners:!1,enableSegments:!1,isStandaloneFormEnabled:!p,isLogoBuilderEnabled:!0,useNewMessageListApi:!1,enablePreheaderInReactComposer:!0,showHtmlPreviewNote:!1,blogFirstTimeExperience:!1,enableFooterAdForPremiums:!0,enableReusingEmails:!1,cleanUpSiteUrls:!1,enableProductSection:!1,enableMultipleArraySamples:!1,multipleSenderDetailsEnabled:c,showHomeButtonLabel:!0,aiMessagesEnabled:!1,translateSingleLanguage:!1}},O),D=((C={})[E.User]=function(t){var n=t.experiments;return{isBackAlwaysVisible:!0,isSchedulingEnabled:!0,removeAutomationsToast:!0,messageTranslations:!0,isTranslationVisible:n["specs.apes.Multilingual"]&&(0,e.isAppInstalled)(e.appDefIds.multilingual),showMultilingualTranslation:n["specs.apes.Multilingual"]&&(0,e.isAppInstalled)(e.appDefIds.multilingual),enableLogoDynamicOptions:!0,isComposerBackButtonEnabled:!0,isEmPersonalized:!0,importContactsThroughContactsApp:!0,showThemesPanel:!0,showOnboardingHelpers:!0,showContactsFilters:!0,showPlansUiAndFirstTimeExperience:!0,isDynamicImageEnabled:!0,isDynamicLinkEnabled:!0,isSubjectLineInComposer:!0,isTitleRegionHtmlEnabled:!0,isTransactionalEmails:!0,enablePreheader:!0,backLeadsToAutomations:!0,useExternalBacklinkConfigForComposerNavigation:!0,showPlaceholdersPreviewType:!1,showUnsubscribeNote:!0,canControlMandatoryRegions:!1,canEditMandatoryRegions:!1,enableConditionsManagement:!1,enableConditionsActions:!1,enableConditions:!0,passLanguageToHtmlPreview:!0,canConnectRepeaters:!1,disableLockedRegionDuplication:!0,allowFallbacksManagement:!1,showTMobileNotification:!0,showResendToNonOpeners:!0,enableSegments:!0,isStandaloneFormEnabled:!0,isLogoBuilderEnabled:!0,useNewMessageListApi:!0,showHtmlPreviewNote:!0,enablePreheaderInReactComposer:!0,blogFirstTimeExperience:!0,enableFooterAdForPremiums:!0,enableReusingEmails:!0,cleanUpSiteUrls:!0,enableProductSection:!0,enableMultipleArraySamples:!0,showHomeButtonLabel:!0,aiMessagesEnabled:!0,translateSingleLanguage:!1}},C[E.PM]=function(){return{isBackAlwaysVisible:!0,isSchedulingEnabled:!0,removeAutomationsToast:!0,messageTranslations:!0,isTranslationVisible:!0,showMultilingualTranslation:!1,enableLogoDynamicOptions:!0,isComposerBackButtonEnabled:!0,isEmPersonalized:!0,importContactsThroughContactsApp:!0,showThemesPanel:!1,showOnboardingHelpers:!0,showContactsFilters:!0,showPlansUiAndFirstTimeExperience:!0,isDynamicImageEnabled:!0,isDynamicLinkEnabled:!0,isSubjectLineInComposer:!0,isTitleRegionHtmlEnabled:!0,isTransactionalEmails:!0,enablePreheader:!0,backLeadsToAutomations:!0,useExternalBacklinkConfigForComposerNavigation:!0,showPlaceholdersPreviewType:!0,showUnsubscribeNote:!1,canControlMandatoryRegions:!0,canEditMandatoryRegions:!0,enableConditionsManagement:!0,enableConditionsActions:!0,enableConditions:!0,passLanguageToHtmlPreview:!0,canConnectRepeaters:!0,disableLockedRegionDuplication:!1,allowFallbacksManagement:!0,showTMobileNotification:!0,showResendToNonOpeners:!0,enableSegments:!0,isStandaloneFormEnabled:!0,isLogoBuilderEnabled:!0,useNewMessageListApi:!0,showHtmlPreviewNote:!0,enablePreheaderInReactComposer:!0,blogFirstTimeExperience:!0,enableFooterAdForPremiums:!0,enableReusingEmails:!0,cleanUpSiteUrls:!0,enableProductSection:!0,enableMultipleArraySamples:!0,showHomeButtonLabel:!0,aiMessagesEnabled:!0,translateSingleLanguage:!1}},C[E.Writer]=function(){return{isBackAlwaysVisible:!0,isSchedulingEnabled:!0,removeAutomationsToast:!0,messageTranslations:!0,isTranslationVisible:!0,showMultilingualTranslation:!1,enableLogoDynamicOptions:!0,isComposerBackButtonEnabled:!0,isEmPersonalized:!0,importContactsThroughContactsApp:!0,showThemesPanel:!1,showOnboardingHelpers:!0,showContactsFilters:!0,showPlansUiAndFirstTimeExperience:!0,isDynamicImageEnabled:!0,isDynamicLinkEnabled:!0,isSubjectLineInComposer:!0,isTitleRegionHtmlEnabled:!0,isTransactionalEmails:!0,enablePreheader:!0,backLeadsToAutomations:!0,useExternalBacklinkConfigForComposerNavigation:!1,showPlaceholdersPreviewType:!1,showUnsubscribeNote:!1,canControlMandatoryRegions:!1,canEditMandatoryRegions:!0,enableConditionsManagement:!0,enableConditionsActions:!1,enableConditions:!0,passLanguageToHtmlPreview:!0,canConnectRepeaters:!1,disableLockedRegionDuplication:!1,allowFallbacksManagement:!0,showTMobileNotification:!0,showResendToNonOpeners:!0,enableSegments:!0,isStandaloneFormEnabled:!0,isLogoBuilderEnabled:!0,useNewMessageListApi:!0,showHtmlPreviewNote:!0,enablePreheaderInReactComposer:!0,blogFirstTimeExperience:!0,enableFooterAdForPremiums:!0,enableReusingEmails:!0,cleanUpSiteUrls:!0,enableProductSection:!0,enableMultipleArraySamples:!0,showHomeButtonLabel:!0,aiMessagesEnabled:!0,translateSingleLanguage:!0}},C[E.Partner]=function(e){var t,n=e.data,o=JSON.parse(n.userPackage);return{isBackAlwaysVisible:!0,isSchedulingEnabled:(null===(t=null==o?void 0:o.features)||void 0===t?void 0:t.Scheduling)||!1,removeAutomationsToast:!0,messageTranslations:!0,isTranslationVisible:!1,showMultilingualTranslation:!1,enableLogoDynamicOptions:!0,isComposerBackButtonEnabled:!0,isEmPersonalized:!0,importContactsThroughContactsApp:!0,showThemesPanel:!0,showOnboardingHelpers:!0,showContactsFilters:!0,showPlansUiAndFirstTimeExperience:!1,isDynamicImageEnabled:!0,isDynamicLinkEnabled:!0,isSubjectLineInComposer:!0,isTitleRegionHtmlEnabled:!0,isTransactionalEmails:!0,enablePreheader:!0,backLeadsToAutomations:!0,useExternalBacklinkConfigForComposerNavigation:!0,showPlaceholdersPreviewType:!1,showUnsubscribeNote:!0,canControlMandatoryRegions:!1,canEditMandatoryRegions:!1,enableConditionsManagement:!1,enableConditionsActions:!1,enableConditions:!0,passLanguageToHtmlPreview:!0,canConnectRepeaters:!1,disableLockedRegionDuplication:!0,allowFallbacksManagement:!1,showTMobileNotification:!0,showResendToNonOpeners:!0,enableSegments:!1,isStandaloneFormEnabled:!1,isLogoBuilderEnabled:!0,useNewMessageListApi:!0,enableFooterAdForPremiums:!1,showHtmlPreviewNote:!0,enablePreheaderInReactComposer:!0,blogFirstTimeExperience:!0,enableReusingEmails:!0,cleanUpSiteUrls:!0,enableProductSection:!0,enableMultipleArraySamples:!0,showHomeButtonLabel:!0,aiMessagesEnabled:!0,translateSingleLanguage:!1}},C);function L(e,t){return function(n){var o=M[e](n);return function(e,t){for(var n in t)t[n]||(e[n]=!1)}(o,D[t](n)),o}}var U=function(e,t,n,o){return new(n||(n=Promise))((function(a,s){function i(e){try{l(o.next(e))}catch(e){s(e)}}function r(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,r)}l((o=o.apply(e,t||[])).next())}))},R=function(e,t){var n,o,a,s,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(s){return function(r){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&s[0]?o.return:s[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,s[1])).done)return a;switch(o=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,o=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],o=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,r])}}};function k(e,t,a){(0,o.module)(e,["fedops"]).config(["fedopsLoggerProvider",function(e){e.setAppName(t),e.setDisableAutoLoadFinish()}]).directive(a,(function(){return{template:"<div></div>",controller:["fedopsLogger",function(e){e.appLoaded(),n.ModuleRegistry.invoke("businessManager.navigateTo",{pageComponentId:"shoutout-compliance",viewId:"shoutoutComplianceView"})}]}}))}function j(e,t,n,a){(0,o.module)(e,["wixShoutoutTranslations","fedops","ngSanitize"]).config(["fedopsLoggerProvider",function(e){e.setAppName(t),e.setDisableAutoLoadFinish()}]).directive(n,(function(){return{template:['<div class="shoutout">','<div class="so-grid-container">','<div class="so-grid-row">','<div class="so-grid-col12">','<div class="so-dashboard-widget-error">','<div class="so-h1">{{"SHOUTOUT.FATAL.HEADING" | translate}}</div>','<div class="so-body1" ng-bind-html="\'SHOUTOUT.FATAL.DESCRIPTION\' | translate"></div>','<button class="so-button so-button-primary-small" onclick="window.location.reload()">{{"SHOUTOUT.FATAL.CTA" | translate}}</button>',"</div>","</div>","</div>","</div>","</div>"].join(""),controller:["$window","fedopsLogger",function(e,t){t.appLoaded(),e.ModuleRegistry.notifyListeners("businessManager.viewStartLoading",a),e.ModuleRegistry.notifyListeners("businessManager.viewFinishedLoading",a)}]}}))}function x(e){e&&(console.error(e),e.response&&console.error(e.response.data))}function F(e){return"ACCOUNT_SUSPENDED"===((((e||{}).response||{}).data||{}).errorCode||"UNKNOWN")}var B=function(e){var t=e.httpClient,n=e.apiUrl;return t.get("".concat(n,"indexData")).then((function(e){return e.data}))},H=function(e){var t=e.httpClient,n=e.apiUrl,o=e.messageId,a=e.language,s="".concat(n,"messages/").concat(o,"/details");return t.get(s,{params:{language:a}}).then((function(e){return e.data}))};function G(e){var t=e.apiUrl,n=e.httpClient;return U(this,void 0,void 0,(function(){var e,o,a,s,i,r;return R(this,(function(l){switch(l.label){case 0:return e=m("messageId"),o=m("translation"),a="true"===m("resetToEnglish"),o&&a&&(o="en"),[4,Promise.all([B({httpClient:n,apiUrl:t}),e?H({httpClient:n,apiUrl:t,messageId:e,language:o}):null])];case 1:return s=l.sent(),i=s[0],r=s[1],[2,{indexData:i,message:r}]}}))}))}var W="41d8c51c-55fb-4909-ab3d-8b8d6d513336",K="af9ee0f7-18ec-408b-96d4-8af50c5b5828";function J(e){(0,o.module)(e).component("senderSetupModal",{bindings:{isShown:"=",onCancel:"=",onClose:"=",onDone:"=",biOptions:"="},template:'<module-registry\n      component="EmailMarketingSenderSetupWidget"\n      props="{\n        isOpen:$ctrl.isShown,\n        onCancel:$ctrl.onCancel,\n        onClose:$ctrl.onClose,\n        onDone:$ctrl.onDone,\n        biOptions: $ctrl.biData\n      }">\n    </module-registry>',controller:["clientConfig",function(e){var t=(0,I.get)(this,"biOptions.referal_info","transactional-emails"),n=(0,I.get)(this,"biOptions.appState",null);this.biData={app:t,appState:n,context:e.biContext,package_group:e.userPackage.group,package_id:e.userPackage.vendorProductId}}],controllerAs:"$ctrl"})}var V,z=(V=function(e,t){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},V(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}V(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),$=function(e,t,n,o){return new(n||(n=Promise))((function(a,s){function i(e){try{l(o.next(e))}catch(e){s(e)}}function r(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,r)}l((o=o.apply(e,t||[])).next())}))},Y=function(e,t){var n,o,a,s,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(s){return function(r){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&s[0]?o.return:s[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,s[1])).done)return a;switch(o=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,o=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],o=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,r])}}},q=function(e,t,n){if(n||2===arguments.length)for(var o,a=0,s=t.length;a<s;a++)!o&&a in t||(o||(o=Array.prototype.slice.call(t,0,a)),o[a]=t[a]);return e.concat(o||Array.prototype.slice.call(t))},Q=!window.__ANGULAR_BOOTSTRAP_MIGRATION__,X=new g,Z=function(e){function t(t){return e.call(this,t,{files:ee(t),prepare:te(t),module:"shoutout",component:"shoutout-widget",unloadStylesOnDestroy:!0})||this}return z(t,e),t}(n.AngularLazyComponent);function ee(e){var t=e.accountLanguage,n=e.config.topology,o=n.senderSetupStaticsUrl,a=n.shoutoutAnalyticsStaticsUrl,s=n.shoutoutComposerSidebarUrl,i=n.shoutoutReactStaticsUrl,r=n.shoutoutStaticsUrl,l=n.shoutoutReactRegions,c=["https://static.parastorage.com/services/third-party/jquery-ui/1.11.4/jquery-ui.min.js",["".concat(l,"react-regions.bundle.min.js"),"".concat(l,"react-regions.min.css")],s+"angular.min.css",r+"styles/skins-stylemodel/default.css",r+"scripts/bm-component-style.css","".concat(i,"angular-react.min.css"),"".concat(i,"angular-react.bundle.min.js"),"".concat(o,"sender-setup-angular.min.css"),"".concat(o,"sender-setup-angular.bundle.min.js"),"".concat(a,"shoutout-analytics-component.min.css"),["https://static.parastorage.com/unpkg/video-gallery-sdk@1.0.4/dist/statics/video-gallery-sdk.bundle.min.js","https://static.parastorage.com/unpkg/wixmg-player@2.0.3/dist/statics/wixmg-player.bundle.min.js",s+"angular.bundle.min.js"],q([r+"scripts/modules.js",r+"scripts/scripts.js"],u(t)?["https://static.parastorage.com/unpkg/moment@2.10.6/locale/".concat(t,".js")]:[],!0)];return Q&&c.splice(2,0,"https://static.parastorage.com/unpkg/angular-ui-bootstrap@2.5.4/dist/ui-bootstrap-tpls-2.5.4.min.js"),c}function te(t){var n=L(v.EmailMarketing,(0,e.isAppInstalled)(e.appDefIds.wixExpertsDashboard)?E.Partner:E.User);return function(){return $(this,void 0,void 0,(function(){var s,r,p,d,m,f,v,E,T,S,w,_,P;return Y(this,(function(I){switch(I.label){case 0:return[4,Promise.all([i.e(4030),i.e(5599)]).then(i.bind(i,8914))];case 1:s=I.sent().HttpClient,r=new s({getAppToken:function(){return X.getInstance()}}),p="/_api/shoutout-editor/",d="/_api/crm/v1/",m=window.location.search,f=(t.config.topology||t.topology).shoutoutStaticsUrl,N=t.metaSiteId,(new Image).src="https://frog.wix.com/shout?src=36&evid=172&msid="+N+"&context=shoutout-bm&_="+Date.now(),I.label=2;case 2:return I.trys.push([2,4,,8]),[4,Promise.all([r.get(p+"indexData"+m),r.get("/_serverless/wix-emails-serverless/multiple-sender-details/is-enabled"),A({locale:t.accountLanguage,staticsUrl:f})])];case 3:return v=I.sent(),E=v[0],T=v[1],S=E.data,function(t){var n=t.metaSiteId;return(0,e.isAppInstalled)(W)?((0,e.navigateTo)({pageComponentId:W}),!0):K===n&&(window.location.href="/dashboard/".concat(n,"/shoutout-localization"),!0)}({experiments:w=c(S.experimentsMap),metaSiteId:t.metaSiteId})?[2]:((0,o.module)("shoutout",["shoutoutApp"]).directive("shoutoutWidget",(function(){return{template:['<div class="shoutout">','<div rel="stylesheet" skin-loader></div>',"<so-css-printer></so-css-printer>",'<style type="text/css" so-composer-custom-styles>',"{{ soComposerCustomStyles.customStyles }}","</style>",'<div so-specs so-current-state so-client-config-context class="shoutout-state so-scrollable" in-view-container>',"<div growl></div>",'<div ng-class="getCssClassCurrentSkin()" class="root-container skin-uses-ssm">','<div ui-view class="main-view" so-state-class autoscroll="true"></div>',"</div>","</div>","</div>"].join(""),controller:function(){}}})),(0,o.module)("so.templates").component("soDynamicTemplatesHandler",{bindings:{template:"=",listName:"<"},template:'<module-registry\n      component="{{$ctrl.injectionComponent}}"\n      props="{\n        onDone: $ctrl.onDone,\n        onCancel: $ctrl.onCancel,\n        templateId: $ctrl.template.enSourceMessageId || $ctrl.template.messageId,\n        campaignTemplateId: $ctrl.template.templateId,\n        bsmProps: $ctrl.bsmProps\n      }"\n      ></module-registry>',controller:a,controllerAs:"$ctrl"}),h(t),(0,o.module)("soDashboard").component("soAscendUpgradeButton",{bindings:{origin:"=",tooltipBullets:"=",onClick:"<"},template:'<module-registry\n      component="'.concat(b,'"\n      props="{\n        slug: $ctrl.slug,\n        origin: $ctrl.origin,\n        items: $ctrl.tooltipBullets,\n        className: \'so-ascend-upgrade-button\',\n        onClick: $ctrl.onClick\n      }">\n    </module-registry>'),controller:function(){this.slug="email-marketing-1"},controllerAs:"$ctrl"}),(0,o.module)("soDashboard").component("soAscendBadge",{template:'<module-registry\n      component="'.concat(y,'"\n      props="{\n        slug: $ctrl.slug,\n        minimized: $ctrl.minimized\n      }">\n    </module-registry>'),bindings:{minimized:"<"},controller:function(){this.slug="email-marketing-1"},controllerAs:"$ctrl"}),(0,o.module)("soDashboard").component("reactQuotaWidget",{template:'<module-registry\n      component="'.concat("QuotaLazyComponent",'">\n    </module-registry>')}),J("soDashboard"),u(t.accountLanguage)&&window.moment.locale(t.accountLanguage),_=n({props:t,apiUrl:p,crmApiUrl:d,data:S,experiments:w,instance:X.getInstance(),msdEnabled:T.data.enabled}),(0,o.module)("common").constant("clientConfig",_).constant("injectedMessage",l(S.msg)).constant("experiments",w).service("BmInstance",g),(0,o.module)("shoutoutApp").config(["wixAngularTopologyProvider",function(e){e.setStaticsUrl((t.config.topology||t.topology).shoutoutStaticsUrl)}]),[3,8]);case 4:return x(P=I.sent()),F(P)?(k("shoutout","shoutout","shoutoutWidget"),[3,7]):[3,5];case 5:return(new Image).src="https://frog.wix.com/shout?src=36&evid=176&msid="+t.metaSiteId+"&context=shoutout-bm&_="+Date.now()+"&errorCode=1502&error="+encodeURIComponent(function(e){if(function(e){if(e&&e.isWixHttpError&&e.config&&e.config.url)return!0;return!1}(e)){var t=e.response&&e.response.status;return[e.config.url,e.requestId,t].map((function(e){return e||"na"})).join("|")}if(e&&e.message)return e.message;return"SHOUTOUT.FATAL.HEADING"}(P)),[4,A({locale:t.accountLanguage,staticsUrl:f})];case 6:I.sent(),j("shoutout","shoutout","shoutoutWidget","shoutout-fatal-error-screen"),I.label=7;case 7:return[3,8];case 8:return[2]}var N}))}))}}var ne=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),oe=function(e){function t(t){var n=t.config.topology.complianceStaticsUrl;return e.call(this,t,{component:"shoutout-compliance",files:["".concat(n,"compliance-app-page-component.bundle.min.js"),"".concat(n,"compliance-app-page-component.min.css")]})||this}return ne(t,e),t}(n.ReactLazyComponent),ae=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),se=function(e,t,n,o){return new(n||(n=Promise))((function(a,s){function i(e){try{l(o.next(e))}catch(e){s(e)}}function r(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,r)}l((o=o.apply(e,t||[])).next())}))},ie=function(e,t){var n,o,a,s,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(s){return function(r){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&s[0]?o.return:s[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,s[1])).done)return a;switch(o=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,o=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],o=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,r])}}},re=function(e,t,n){if(n||2===arguments.length)for(var o,a=0,s=t.length;a<s;a++)!o&&a in t||(o||(o=Array.prototype.slice.call(t,0,a)),o[a]=t[a]);return e.concat(o||Array.prototype.slice.call(t))},le=!window.__ANGULAR_BOOTSTRAP_MIGRATION__,ce=new g,ue=function(e,t){return se(void 0,void 0,void 0,(function(){var o,a,s,r,u,p,d,m,g,f,h,b;return ie(this,(function(y){switch(y.label){case 0:return o="/_api/shoutout-editor/",a=new Promise((function(t){try{var o=n.ModuleRegistry.invoke("businessSettings.getBusinessSettings",e.metaSiteId);o?o.then(t):t({})}catch(e){t({})}})),[4,Promise.all([i.e(4030),i.e(5599)]).then(i.bind(i,8914))];case 1:return s=y.sent().HttpClient,r=new s({getAppToken:function(){return ce.getInstance()}}),[4,Promise.all([G({httpClient:r,apiUrl:o}),a,r.get("/_serverless/wix-emails-serverless/multiple-sender-details/is-enabled")])];case 2:return u=y.sent(),p=u[0],d=p.indexData,m=p.message,g=u[1],f=u[2],h=c(d.experimentsMap),b=l(m),[2,{clientConfig:t({props:e,data:d,apiUrl:o,experiments:h,businessSettings:g,instance:ce.getInstance(),injectedMessage:b,msdEnabled:f.data.enabled}),experiments:h,injectedMessage:b}]}}))}))},pe=function(e,t){return function(){return se(void 0,void 0,void 0,(function(){var a,s,i,r,l,c;return ie(this,(function(p){switch(p.label){case 0:return p.trys.push([0,3,,7]),[4,ue(e,t)];case 1:return a=p.sent(),s=a.clientConfig,i=a.experiments,r=a.injectedMessage,[4,A({locale:e.accountLanguage,staticsUrl:e.config.topology.shoutoutStaticsUrl})];case 2:return p.sent(),(0,o.module)("soTransactionalEmails").requires.push("wixShoutoutTranslations"),(0,o.module)("soTransactionalEmails").directive("transactionalEmails",(function(){return{template:'\n          <div style="width:100%;height:100%;">\n            <div style="position:absolute;left:0;top:0;right:0;bottom:0;" ng-app="soTransactionalEmails">\n              <div class="shoutout transactional-emails">\n                <div rel="stylesheet" skin-loader></div>\n                <so-css-printer></so-css-printer>\n                <style type="text/css" so-composer-custom-styles>\n                  {{ soComposerCustomStyles.customStyles }}\n                </style>\n                <div so-specs so-current-state so-client-config-context class="shoutout-state so-scrollable" in-view-container>\n                  <div growl></div>\n                  <div ng-class="getCssClassCurrentSkin()" class="root-container skin-uses-ssm">\n                    <div ui-view class="main-view" so-state-class autoscroll="true"></div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>',controller:function(){}}})),u(l=s.locale)&&window.moment.locale(l),h(e),J("soTransactionalEmails"),(0,o.module)("soTransactionalEmails").constant("clientConfig",s).constant("experiments",i).constant("injectedMessage",r),(0,o.module)("common").service("BmInstance",g),n.ModuleRegistry.notifyListeners("businessManager.viewFinishedLoading","transactional-emails"),[3,7];case 3:return x(c=p.sent()),F(c)?(k("soTransactionalEmails","transactional-emails","transactionalEmails"),[3,6]):[3,4];case 4:return(new Image).src="https://frog.wix.com/shout?src=36&evid=176&msid="+e.metaSiteId+"&context=transactional-emails&_="+Date.now()+"&errorCode=1502&error=SHOUTOUT.FATAL.HEADING",[4,A({locale:e.accountLanguage,staticsUrl:e.config.topology.shoutoutStaticsUrl})];case 5:p.sent(),j("soTransactionalEmails","transactional-emails","transactionalEmails","transactional-emails-fatal-error-screen"),p.label=6;case 6:return[3,7];case 7:return[2]}}))}))}};var de=function(e){var t=e.accountLanguage,n=e.config.topology,o=n.senderSetupStaticsUrl,a=n.shoutoutAnalyticsStaticsUrl,s=n.shoutoutComposerSidebarUrl,i=n.shoutoutReactStaticsUrl,r=n.shoutoutStaticsUrl,l=n.shoutoutReactRegions;return re(re(["https://static.parastorage.com/services/third-party/jquery-ui/1.11.4/jquery-ui.min.js"],le?["https://static.parastorage.com/unpkg/angular-ui-bootstrap@2.5.4/dist/ui-bootstrap-tpls-2.5.4.min.js"]:[],!0),[["".concat(l,"react-regions.bundle.min.js"),"".concat(l,"react-regions.min.css")],"".concat(s,"angular.min.css"),"".concat(r,"styles/skins-stylemodel/default.css"),"".concat(r,"scripts/transactional-emails.scripts.min.css"),"".concat(i,"angular-react.min.css"),"".concat(i,"angular-react.bundle.min.js"),"".concat(o,"sender-setup-angular.min.css"),"".concat(o,"sender-setup-angular.bundle.min.js"),"".concat(a,"shoutout-analytics-component.min.css"),["https://static.parastorage.com/unpkg/video-gallery-sdk@1.0.4/dist/statics/video-gallery-sdk.bundle.min.js","https://static.parastorage.com/unpkg/wixmg-player@2.0.3/dist/statics/wixmg-player.bundle.min.js","".concat(s,"angular.bundle.min.js")],re(["".concat(r,"scripts/transactional-emails.modules.min.js"),"".concat(r,"scripts/transactional-emails.scripts.min.js")],u(t)?["https://static.parastorage.com/unpkg/moment@2.10.6/locale/".concat(t,".js")]:[],!0)],!1)},me=function(t){function n(n){var o=m("apes"),a=m("role"),s=o||a,i=o?v.Apes:-1!==window.location.pathname.indexOf("/transactional-emails")?v.TriggeredEmails:v.Automations,r=(0,e.isAppInstalled)(e.appDefIds.wixExpertsDashboard)?E.Partner:"PM"===s?E.PM:"WRITER"===s?E.Writer:E.User;return t.call(this,n,{module:"soTransactionalEmails",component:"transactional-emails",files:de(n),prepare:pe(n,L(i,r))})||this}return ae(n,t),n}(n.AngularLazyComponent),ge=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),fe=function(e){var t=e.config.topology;return["".concat(t.shoutoutReactStaticsUrl,"app.min.css"),"".concat(t.senderSetupStaticsUrl,"app.min.css"),"".concat(t.teSmartActionWidgetStaticsUrl,"component.min.css"),["".concat(t.shoutoutReactStaticsUrl,"app.bundle.min.js"),"".concat(t.senderSetupStaticsUrl,"app.bundle.min.js"),"".concat(t.teSmartActionWidgetStaticsUrl,"component.bundle.min.js")]]},he=function(t){function n(n){var o=(0,e.getModule)(e.ModuleId.Shoutout).moduleParams,a={files:fe(o),component:"TeSmartActionsWidget",resolve:function(){return Promise.resolve(o)}};return t.call(this,n,a)||this}return ge(n,t),n}(n.ReactLazyComponent),be=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ye=function(e){var t=e.config.topology;return["".concat(t.teSmartActionWidgetStaticsUrl,"email-marketing-ping-automations-widget.min.css"),"".concat(t.teSmartActionWidgetStaticsUrl,"email-marketing-ping-automations-widget.bundle.min.js")]},ve=function(t){function n(n){var o=(0,e.getModule)(e.ModuleId.Shoutout).moduleParams,a={files:ye(o),component:"EmailMarketingPingAutomationsWidget",resolve:function(){return Promise.resolve({moduleParams:o})}};return t.call(this,n,a)||this}return be(n,t),n}(n.ReactLazyComponent),Ee=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Te=function(e){var t=e.config.topology;return["".concat(t.senderSetupStaticsUrl,"component.min.css"),"".concat(t.senderSetupStaticsUrl,"component.bundle.min.js")]},Se=function(t){function n(n){var o=(0,e.getModule)(e.ModuleId.Shoutout).moduleParams,a={files:Te(o),component:"EmailMarketingSenderSetup",resolve:function(){return Promise.resolve({moduleParams:o})}};return t.call(this,n,a)||this}return Ee(n,t),n}(n.ReactLazyComponent),we=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),_e=function(e){function t(t){var n=t.soProps.config.topology.shoutoutAnalyticsStaticsUrl;return e.call(this,t,{component:p,files:["".concat(n,"shoutout-analytics-component.bundle.min.js")]})||this}return we(t,e),t}(n.ReactLazyComponent),Ae=function(e,t,n,o){return new(n||(n=Promise))((function(a,s){function i(e){try{l(o.next(e))}catch(e){s(e)}}function r(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,r)}l((o=o.apply(e,t||[])).next())}))},Pe=function(e,t){var n,o,a,s,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(s){return function(r){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&s[0]?o.return:s[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,s[1])).done)return a;switch(o=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,o=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],o=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,r])}}},Ie=function(e){return function(t){var n=t.ruleId,o=t.templateId;return Ae(void 0,void 0,void 0,(function(){var t;return Pe(this,(function(a){switch(a.label){case 0:return t="/_api/shoutout/v1/automation-mapping/".concat(n,"/").concat(o),[4,e.get(t).then((function(e){return e.data}))];case 1:return[2,a.sent().campaignId]}}))}))}},Ne=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Oe=function(){return Oe=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Oe.apply(this,arguments)},Ce=function(e,t,n,o){return new(n||(n=Promise))((function(a,s){function i(e){try{l(o.next(e))}catch(e){s(e)}}function r(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,r)}l((o=o.apply(e,t||[])).next())}))},Me=function(e,t){var n,o,a,s,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(s){return function(r){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&s[0]?o.return:s[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,s[1])).done)return a;switch(o=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,o=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],o=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,r])}}},De=function(t){function n(n){var o=this,a=n.config.topology.shoutoutAnalyticsStaticsUrl,s=n.config.topology.shoutoutTranslationsUrl;return o=t.call(this,n,{component:"automations-email-analytics-component",files:["".concat(a,"shoutout-analytics-component.min.css"),"".concat(a,"shoutout-analytics-component.bundle.min.js")],resolve:function(){return Ce(o,void 0,void 0,(function(){var t,o,a,r,l,c,u,p,d,m,g,f;return Me(this,(function(h){switch(h.label){case 0:return[4,Promise.all([i.e(4030),i.e(5599)]).then(i.bind(i,8914))];case 1:return t=h.sent().HttpClient,o=new t({getAppToken:function(){return(0,e.getCurrentInstance)(e.appDefIds.shoutout)}}),a=o.get("".concat("/_api/shoutout/v1","/account-details")),r=o.get("".concat(s,"shoutout-analytics/messages_").concat(n.accountLanguage,".json")),l=new Promise((function(e){if(n.actionConfig.messageId)return e(n.actionConfig.messageId);var t=n.ruleId,a=n.actionConfig.templateId;Ie(o)({ruleId:t,templateId:a}).then((function(t){return e(t)}))})),[4,Promise.all([a,r,l])];case 2:return c=h.sent(),u=c[0].data.accountDetails,p=c[1].data,d=c[2],m=u.package,g=m.group,f=m.id,[2,{translationOverrides:Ue(p),actionConfig:Oe(Oe({},n.actionConfig),{messageId:d}),biProps:{src:36,context:"transactional-emails-automations",msid:n.metaSiteId,package_group:g,package_id:f}}]}}))}))}})||this,o}return Ne(n,t),n}(n.ReactLazyComponent),Le=De;function Ue(e){var t,n=new Map([["shoutoutAnalytics.widgets.stats.subtitle","shoutoutAnalytics.widgets.automations.stats.subtitle"],["shoutoutAnalytics.widget.visits.chart.description","shoutoutAnalytics.widget.automations.visits.chart.description"],["shoutoutAnalytics.widgets.clicks.email.subtitle.noTotal","shoutoutAnalytics.widgets.automations.clicks.email.subtitle.noTotal"],["shoutoutAnalytics.landingPage.empty.share.subtitle","shoutoutAnalytics.landingPage.automations.empty.share.subtitle"],["shoutoutAnalytics.landingPage.empty.share.campaignUrl.label","shoutoutAnalytics.landingPage.automations.empty.share.campaignUrl.label"],["shoutoutAnalytics.landingPage.subtitle","shoutoutAnalytics.landingPage.automations.subtitle"],["shoutoutAnalytics.widgets.stats.spamComplaints.popover.content","shoutoutAnalytics.widgets.automations.stats.spamComplaints.popover.content"]]);return t=e,Array.from(n.keys()).reduce((function(e,o){var a;return Oe(Oe({},e),((a={})[o]=t[n.get(o)],a))}),{})}var Re=function(e){var t=e.apiClient,n=e.tagName,o="templates/search?tag=".concat(n);return t.get(o).then((function(e){var t=e.data;return{templateId:t[0].templateId,snapshot:t[0].thumbnails.filter((function(e){var t=e.role;return["thumbnailSmall","default"].includes(t)}))[0].url}}))},ke=function(e){var t=e.apiClient,n=e.templateId,o="messages/template/".concat(n);return t.post(o).then((function(e){return{newMessage:e}}))},je=function(e){var t=e.apiClient,n=e.publish,o=e.message,a="transactional/messages/automation?publish=".concat(n);return t.post(a,o).then((function(e){return{message:e}}))},xe=function(e,t,n,o){return new(n||(n=Promise))((function(a,s){function i(e){try{l(o.next(e))}catch(e){s(e)}}function r(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,r)}l((o=o.apply(e,t||[])).next())}))},Fe=function(e,t){var n,o,a,s,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(s){return function(r){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&s[0]?o.return:s[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,s[1])).done)return a;switch(o=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,o=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],o=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,r])}}},Be="AUTOMATIONS_DEFAULT_TEMPLATE",He=function(e){return xe(void 0,void 0,void 0,(function(){var t,n;return Fe(this,(function(o){switch(o.label){case 0:return"3.0"===(t=JSON.parse(e.data.composerData)).version?[3,2]:[4,Promise.all([i.e(5232),i.e(1261)]).then(i.bind(i,48707))];case 1:n=o.sent().upgradeComposerData,e.data.composerData=JSON.stringify(r(n(t))),o.label=2;case 2:return[2,e]}}))}))},Ge=function(e){return function(t){var n=t.templateTag,o=t.recipeName;return xe(void 0,void 0,void 0,(function(){var t,a,s,i,r,l,c;return Fe(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,4]),[4,Re({apiClient:e,tagName:n||o||Be})];case 1:case 3:return t=u.sent(),[3,4];case 2:return a=u.sent(),console.error("Cannot find template with recipe ".concat(o,", using default recipe instead. ").concat(a)),[4,Re({apiClient:e,tagName:Be})];case 4:return s=t.templateId,i=t.snapshot,[4,ke({apiClient:e,templateId:s})];case 5:return r=u.sent().newMessage,l=je,c={apiClient:e,publish:!1},[4,He(r)];case 6:return[4,l.apply(void 0,[(c.message=u.sent(),c)])];case 7:return[2,{message:u.sent().message,snapshot:i}]}}))}))}},We=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ke=function(e){function t(t){return e.call(this,t,{files:[],component:"new-quota-widget"})||this}return We(t,e),t}(n.ReactLazyComponent),Je=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ve=function(e){function t(t){var n=t.config.topology.shoutoutLocalizationUrl;return e.call(this,t,{files:["".concat(n,"component.min.css"),"".concat(n,"component.bundle.min.js")],component:"ShoutoutLocalizationAppComponent"})||this}return Je(t,e),t}(n.ReactLazyComponent);var ze=function(e){return e.split("#")};var $e="_",Ye=/{(.*)}/,qe=new RegExp("\\.(".concat(["wix.com","editorx.com"].join("|"),")$")),Qe=new RegExp("\\.(".concat(["42.wixprod.net"].join("|"),")$"));function Xe(e){var t,n,o=function(e,t){var n=t[e]||t[$e];if(!n&&function(e){return!!e.match(/\._base_domain_$/)}(e))return t[tt];return n}(function(e){return e.replace("create.editorx.com","editor.editorx.com")}(e.host).replace(qe,"._base_domain_").replace(Qe,"._api_base_domain_"),e.domainToMappings),a=(t=e.protoPath,n=e.data||{},t.split("/").map((function(e){return function(e,t){var n=e.match(Ye)||[],o=n[1];if(o){var a=e.replace(n[0],"");return function(e,t,n,o){for(var a=e,s=0,i=t.split(".");s<i.length;s++){var r=i[s];if(!a)return n;a=a[r]}return"".concat(a).concat(o)}(t,o,e,a)}return e}(e,n)})).join("/"));return function(e,t){var n=null==t?void 0:t.find((function(t){return e.startsWith(t.destPath)}));if(!n)return e;return n.srcPath+e.slice(n.destPath.length)}(a,o)}var Ze,et,tt="www._base_domain_";function nt(e,t){void 0===t&&(t="");var n={};return Object.entries(e).forEach((function(e){var o=e[0],a=e[1],s=null!==a&&"object"==typeof a&&!Array.isArray(a),i=function(e,t){return"".concat(e).concat(e?".":"").concat(t)}(t,o);if(s){var r=nt(a,i);Object.assign(n,r)}else n[i]=a})),n}function ot(e){var t=nt(e);return Object.entries(t).reduce((function(e,t){var n=t[0],o=t[1];return(Array.isArray(o)?o:[o]).forEach((function(t){null!=t&&e.append(n,t)})),e}),new URLSearchParams)}function at(e,t,n){return void 0===t&&(t={}),function(o,a){return void 0===o&&(o={}),"string"==typeof o?o:s(e,o);function s(e,t){var n={};return[null,void 0].includes(t)?t:(Object.entries(t).forEach((function(t){var o,a,s,l,c=t[0],u=t[1],p=function(e){void 0===e&&(e="");var t=ze(e),n=t[0],o=t[1];return o?{schemaName:o,schemaType:n}:{schemaName:n}}(e[c]),d=p.schemaName,m="Map"===p.schemaType;l=(null!==(s=null===(a=null===(o=r(d))||void 0===o?void 0:o.checkRepetable)||void 0===a?void 0:a.call(o,u))&&void 0!==s?s:Array.isArray(u))?u.map((function(e){return i(e,d)})):m?function(e,t){return Object.entries(e).reduce((function(e,n){var o=n[0],a=n[1];return e[o]=i(a,t),e}),{})}(u,d):i(u,d),n[c]=l})),n)}function i(e,n){if(!n)return e;var o=t[n];if(r(n))return r(n).transform(e);if(o)return s(o,e);throw new Error("".concat(n," is neither schema nor serializable type"))}function r(e){var t;return null===(t=n[e])||void 0===t?void 0:t[a]}}}!function(e){e[e.TO_JSON=0]="TO_JSON",e[e.FROM_JSON=1]="FROM_JSON"}(Ze||(Ze={}));var st,it,rt,lt,ct=((et={types:["google.protobuf.Timestamp"]})[Ze.TO_JSON]={transform:function(e){return e.toISOString()}},et[Ze.FROM_JSON]={transform:function(e){return new Date(e)}},et),ut=((st={types:["google.protobuf.FieldMask"]})[Ze.TO_JSON]={transform:function(e){return e.join(",")},checkRepetable:function(e){return e.some((function(e){return Array.isArray(e)}))}},st[Ze.FROM_JSON]={transform:function(e){return"object"==typeof e?e.paths:e.split(",")}},st),pt=((it={types:["google.protobuf.BytesValue","BYTES"]})[Ze.TO_JSON]={transform:function(e){var t=e.reduce((function(e,t){return e+String.fromCharCode(t)}),"");return btoa(t)}},it[Ze.FROM_JSON]={transform:function(e){return Uint8Array.from(atob(e),(function(e){return e.charCodeAt(0)}))}},it),dt=((rt={types:["google.protobuf.Duration"]})[Ze.TO_JSON]={transform:function(e){var t=e.seconds,n=void 0===t?"0":t,o=e.nanos,a=void 0===o?0:o,s="";return 0!==a&&(s=".".concat(a.toString().padStart(9,"0"))),"".concat(n).concat(s,"s")}},rt[Ze.FROM_JSON]={transform:function(e){var t=e.substring(0,e.length-1).split(".");return{seconds:t[0],nanos:mt(t[1])}}},rt);function mt(e){var t=0;if(void 0!==e){var n=3-e.length/3;t=parseInt(e,10)*Math.pow(1e3,n)}return t}var gt=((lt={types:["FLOAT","DOUBLE","google.protobuf.FloatValue","google.protobuf.DoubleValue"]})[Ze.TO_JSON]={transform:function(e){return isFinite(e)?e:e.toString()}},lt[Ze.FROM_JSON]={transform:function(e){return"NaN"===e?NaN:"Infinity"===e?1/0:"-Infinity"===e?-1/0:e}},lt),ft=function(){return ft=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ft.apply(this,arguments)};var ht=function(e,t,n){if(n||2===arguments.length)for(var o,a=0,s=t.length;a<s;a++)!o&&a in t||(o||(o=Array.prototype.slice.call(t,0,a)),o[a]=t[a]);return e.concat(o||Array.prototype.slice.call(t))},bt=ht([],[ct,ut,pt,dt,gt],!0).reduce((function(e,t){var n=t.types.reduce((function(e,n){var o;return ft(ft({},e),((o={})[n]=t,o))}),{});return ft(ft({},e),n)}),{});function yt(e,t){void 0===t&&(t={});var n=at(e,t,bt);return{fromJSON:function(e){var t=function(e){try{return JSON.parse(e)}catch(e){}}(e)||e;return n(t,Ze.FROM_JSON)},toJSON:function(e){return n(e,Ze.TO_JSON)}}}var vt,Et,Tt,St,wt,_t,At,Pt,It,Nt,Ot,Ct,Mt,Dt,Lt,Ut,Rt,kt,jt={dateCreated:"google.protobuf.Timestamp",dateUpdated:"google.protobuf.Timestamp",dateScheduled:"google.protobuf.Timestamp",publishingData:"_publishingData"},xt={datePublishedFrom:"google.protobuf.Timestamp",datePublishedTo:"google.protobuf.Timestamp"},Ft={campaigns:"_campaign"},Bt={datePublished:"google.protobuf.Timestamp"};function Ht(e){return Xe(Object.assign(e,{domainToMappings:{"editor._base_domain_":[{srcPath:"/shoutout",destPath:""},{srcPath:"/_api/shoutout-editor",destPath:"/api"},{srcPath:"/_api/shoutout/v1",destPath:"/v1"}],"blocks._base_domain_":[{srcPath:"/shoutout",destPath:""},{srcPath:"/_api/shoutout-editor",destPath:"/api"},{srcPath:"/_api/shoutout/v1",destPath:"/v1"}],"create.editorx":[{srcPath:"/shoutout",destPath:""},{srcPath:"/_api/shoutout-editor",destPath:"/api"},{srcPath:"/_api/shoutout/v1",destPath:"/v1"}],"shoutout._base_domain_":[{srcPath:"/_api/shoutout-editor",destPath:"/api"},{srcPath:"/_api/shoutout/v1",destPath:"/v1"}],"www._base_domain_":[{srcPath:"/_api/shoutout-editor",destPath:"/api"},{srcPath:"/_api/shoutout/v1",destPath:"/v1"}],"shoutouteditor._base_domain_":[{srcPath:"/_api/shoutout-editor",destPath:"/api"}],"api._api_base_domain_":[{srcPath:"/shoutout-editor",destPath:""}],_:[{srcPath:"/_api/shoutout/v1",destPath:"/v1"}],"api._base_domain_":[{srcPath:"/_api/shoutout/v1",destPath:"/v1"}],"manage._base_domain_":[{srcPath:"/_api/shoutout-editor",destPath:"/api"},{srcPath:"/_api/shoutout/v1",destPath:"/v1"}],"www.wixapis.com":[{srcPath:"/email-marketing/v1",destPath:"/v1"}],"bo._base_domain_":[{srcPath:"/shoutout-editor/v1",destPath:"/v1"}]}}))}function Gt(e){var t=yt(xt,{}),n=t.toJSON,o=t.fromJSON,a=yt(Ft,{_campaign:jt,_publishingData:Bt}).fromJSON;function s(t){var o=t.host,s=n(e);return{entityFqdn:"wix.email_marketing.v1.campaign",method:"GET",methodFqn:"wix.emailmarketing.api.v1.CampaignService.List",url:Ht({protoPath:"/v1/campaigns",data:s,host:o}),params:ot(s),transformResponse:a}}return s.fromReq=o,s}Gt.__isAmbassador=!0,function(e){e.UNKNOWN="UNKNOWN",e.WEB="WEB",e.MOBILE="MOBILE"}(vt||(vt={})),function(e){e.UNKNOWN="UNKNOWN",e.ACTIVE="ACTIVE",e.ARCHIVED="ARCHIVED",e.DELETED="DELETED"}(Et||(Et={})),function(e){e.UNKNOWN="UNKNOWN",e.DRAFT="DRAFT",e.PUBLISHED="PUBLISHED",e.TEMPLATE="TEMPLATE"}(Tt||(Tt={})),function(e){e.UNKNOWN="UNKNOWN",e.NOT_STARTED="NOT_STARTED",e.SCHEDULED="SCHEDULED",e.IN_DETECTION="IN_DETECTION",e.IN_MODERATION="IN_MODERATION",e.SAMPLING="SAMPLING",e.SENDING="SENDING",e.REJECTED="REJECTED",e.TERMINATED="TERMINATED",e.DISTRIBUTED="DISTRIBUTED",e.PAUSED="PAUSED"}(St||(St={})),function(e){e.UNKNOWN="UNKNOWN",e.LOW_ENGAGEMENT="LOW_ENGAGEMENT",e.SENDER_DETAILS="SENDER_DETAILS",e.SPAM_TRAPS="SPAM_TRAPS",e.OTHER="OTHER",e.ADULT_SEXUAL_CONTENT="ADULT_SEXUAL_CONTENT",e.AFFILIATE_MARKETING="AFFILIATE_MARKETING",e.BETTING_OR_GAMBLING="BETTING_OR_GAMBLING",e.CREDIT_REPAIR_OR_DEBT_RELIEF="CREDIT_REPAIR_OR_DEBT_RELIEF",e.GET_RICH_QUICK_SCHEME="GET_RICH_QUICK_SCHEME",e.ILLEGAL_SUBSTANCES_OR_WEAPONS="ILLEGAL_SUBSTANCES_OR_WEAPONS",e.MISLEADING_SUBJECT_LINE="MISLEADING_SUBJECT_LINE",e.TRADING_OR_CRYPTOCURRENCIES="TRADING_OR_CRYPTOCURRENCIES",e.UNSOLICITED_CONTENT="UNSOLICITED_CONTENT"}(wt||(wt={})),function(e){e.DRAFT="DRAFT",e.REVIEW="REVIEW",e.REJECTED="REJECTED",e.SCHEDULED="SCHEDULED",e.PAUSED="PAUSED",e.PUBLISHED="PUBLISHED",e.SENDING="SENDING",e.PARTIALLY_SENT="PARTIALLY_SENT",e.SENT="SENT"}(_t||(_t={})),function(e){e.UNKNOWN="UNKNOWN",e.EMAIL_MARKETING="EMAIL_MARKETING",e.INVITATION="INVITATION",e.AUTOMATION="AUTOMATION",e.TRIGGERED="TRIGGERED"}(At||(At={})),function(e){e.UNKNOWN="UNKNOWN",e.DELIVERED="DELIVERED",e.OPENED="OPENED",e.CLICKED="CLICKED",e.BOUNCED="BOUNCED",e.NOT_SENT="NOT_SENT"}(Pt||(Pt={})),function(e){e.ASC="ASC",e.DESC="DESC"}(It||(It={})),function(e){e.UNDEFINED="UNDEFINED",e.IN="IN"}(Nt||(Nt={})),function(e){e.UnknownStatus="UnknownStatus",e.Active="Active",e.Suspended="Suspended"}(Ot||(Ot={})),function(e){e.UNKNOWN_VERSION_TYPE="UNKNOWN_VERSION_TYPE",e.MINOR="MINOR",e.MAJOR="MAJOR"}(Ct||(Ct={})),function(e){e.UNKNOWN_TEMPLATE_TYPE="UNKNOWN_TEMPLATE_TYPE",e.PREINSTALLED="PREINSTALLED",e.RECIPE="RECIPE"}(Mt||(Mt={})),function(e){e.UNKNOWN_PRECONDITION_TYPE="UNKNOWN_PRECONDITION_TYPE",e.PETRI="PETRI",e.STATE="STATE",e.APP_DEPENDENCY="APP_DEPENDENCY",e.DEALER_OFFERING="DEALER_OFFERING"}(Dt||(Dt={})),function(e){e.UNKNOWN_TEMPLATE_STATUS="UNKNOWN_TEMPLATE_STATUS",e.INTERNAL="INTERNAL",e.PUBLIC="PUBLIC",e.ARCHIVED="ARCHIVED",e.LIVE="LIVE"}(Lt||(Lt={})),function(e){e.UNKNOWN_TRANSLATION_STATE="UNKNOWN_TRANSLATION_STATE",e.NOT_REQUESTED="NOT_REQUESTED",e.PENDING="PENDING",e.PARTIAL="PARTIAL",e.TRANSLATED="TRANSLATED"}(Ut||(Ut={})),function(e){e.TRIGGERED_EMAILS="TRIGGERED_EMAILS",e.PING="PING"}(Rt||(Rt={})),function(e){e.DELIVERY="DELIVERY",e.CLICK="CLICK",e.OPEN="OPEN",e.SOFT_BOUNCE="SOFT_BOUNCE",e.HARD_BOUNCED="HARD_BOUNCED"}(kt||(kt={}));var Wt=function(e,t,n,o){return new(n||(n=Promise))((function(a,s){function i(e){try{l(o.next(e))}catch(e){s(e)}}function r(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,r)}l((o=o.apply(e,t||[])).next())}))},Kt=function(e,t){var n,o,a,s,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(s){return function(r){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&s[0]?o.return:s[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,s[1])).done)return a;switch(o=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,o=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],o=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,r])}}},Jt=function(t,n){var o;o={fqdn:"wix.email_marketing.v1.campaign",i18n:function(e){return i(36646)("./messages_".concat(e,".json"))},appDefId:n,icon:function(){return Wt(void 0,void 0,void 0,(function(){return Kt(this,(function(e){return[2,Promise.resolve((function(){return null}))]}))}))},fetchItems:function(e){return Wt(void 0,void 0,void 0,(function(){var n,o,a,s;return Kt(this,(function(i){switch(i.label){case 0:return n=e.search&&e.search.trim().length>0?e.search.trim():null,[4,t.httpClient.request(Gt({subjectSubstring:n,paging:{limit:e.limit,offset:e.offset},statuses:[Et.ACTIVE],visibilityStatuses:[Tt.PUBLISHED],distributionStatuses:[St.DISTRIBUTED]}))];case 1:return o=i.sent().data,a="".concat(t.env.moduleParams.config.topology.shoutoutStaticsUrl,"modules/so-dashboard/message-box/images/no-image.png"),[2,{items:null!==(s=o.campaigns.map((function(e){var n,o,s,i;return{guid:null!==(n=e.campaignId)&&void 0!==n?n:"",title:null!==(o=e.title)&&void 0!==o?o:"",subtitle:new Intl.DateTimeFormat(t.env.moduleParams.accountLanguage,{dateStyle:"full"}).format(null===(s=e.publishingData)||void 0===s?void 0:s.datePublished),imageUrl:null!==(i=null==e?void 0:e.snapshotImageUrl)&&void 0!==i?i:a,actions:[]}})))&&void 0!==s?s:[]}]}}))}))}},(0,e.configModule)("irrelevant","PIKACHU",{type:"register",payload:o})},Vt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),zt=function(){return zt=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},zt.apply(this,arguments)},$t=function(e,t,n,o){return new(n||(n=Promise))((function(a,s){function i(e){try{l(o.next(e))}catch(e){s(e)}}function r(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,r)}l((o=o.apply(e,t||[])).next())}))},Yt=function(e,t){var n,o,a,s,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(s){return function(r){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&s[0]?o.return:s[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,s[1])).done)return a;switch(o=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,o=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],o=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,r])}}},qt=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n},Qt=[{pageComponentId:e.PageComponentId.ShoutoutCompliance,sentryOnPremDsn:"https://acf36ffb00e94b0fa48ca2bb36310afe@sentry-next.wixpress.com/1259",urlName:"complianceStaticsUrl"},{pageComponentId:e.PageComponentId.Shoutout,sentryOnPremDsn:"https://bacf4d1759c5420cb6501505a2407bc9@sentry-next.wixpress.com/1256",urlName:"shoutoutStaticsUrl"},{pageComponentId:e.PageComponentId.TransactionalEmails,sentryOnPremDsn:"https://7cdbec540e424befbb0e2cc75c00d397@sentry-next.wixpress.com/1257",urlName:"shoutoutStaticsUrl"},{pageComponentId:e.PageComponentId.TeSmartActionsWidget,sentryOnPremDsn:"https://c31ba82d91994cf58ecc60c4c25813ba@sentry-next.wixpress.com/1258",urlName:"teSmartActionWidgetStaticsUrl"}],Xt=function(o){function a(t){var a=o.call(this,t)||this;return a.sentryClients={},a.getSentryClients=function(){return a.sentryClients},a.getTeWidgetConfig=function(t,o){try{return $t(a,void 0,void 0,(function(){var a,s,i,r,l=this;return Yt(this,(function(c){switch(c.label){case 0:return a=t.config.topology.teSmartActionWidgetStaticsUrl,s="/"===a[a.length-1],[4,o.get("".concat(a).concat(s?"":"/","assets/locale/messages_").concat(t.accountLanguage,".json"))];case 1:return i=c.sent().data,r={appDefId:e.appDefIds.shoutout,actions:{"triggered-emails":{displayName:i["te.automations.widget.display.name"],displayInfo:i["te.automations.widget.tooltip"],componentName:e.PageComponentId.TeSmartActionsWidget,statsComponentName:d,requiresContactInfo:!0,verifyConfig:function(e){var t=e.actionConfig;return $t(l,void 0,void 0,(function(){var e,n,o;return Yt(this,(function(a){return e=JSON.parse(t),n=e.messageId,o=e.templateId,[2,!(!n&&!o)||Promise.reject(i["te.automations.widget.error"])]}))}))},onBeforeSave:function(e,t){var a=t.ruleId;return $t(l,void 0,void 0,(function(){var t,s,i;return Yt(this,(function(r){switch(r.label){case 0:return t=e.messageId,s=e.templateId,(i=t)||!s?[3,2]:[4,n.ModuleRegistry.invoke("ShoutOut.getMessageIdForPreinstalledAutomation",{ruleId:a,templateId:s})];case 1:i=r.sent(),r.label=2;case 2:return[4,o.post("/_api/shoutout/v1/campaigns/".concat(i,"/publish"),null)];case 3:return r.sent(),[2,e]}}))}))},generateConfig:function(e){return $t(l,void 0,void 0,(function(){var t,o,a,s;return Yt(this,(function(i){switch(i.label){case 0:return t=e.actionComponentInfo&&e.actionComponentInfo.actionConfig||{templateTag:Be},o=t.templateTag,a=qt(t,["templateTag"]),[4,n.ModuleRegistry.invoke("ShoutOut.createMessageFromTemplateTag",{templateTag:o})];case 1:return s=i.sent().message,[2,JSON.stringify(zt(zt({},a),{messageId:s.messageId}))]}}))}))},duplicateActionConfig:function(e){var t=e.actionConfig,a=e.ruleId;return $t(l,void 0,void 0,(function(){var e,s,i,r;return Yt(this,(function(l){switch(l.label){case 0:return e=JSON.parse(t),!(s=e.messageId)&&a&&e.templateId?[4,n.ModuleRegistry.invoke("ShoutOut.getMessageIdForPreinstalledAutomation",{ruleId:a,templateId:e.templateId})]:[3,2];case 1:s=l.sent(),l.label=2;case 2:return[4,o.post("/_api/shoutout/v1/campaigns/".concat(s,"/reuse"),null)];case 3:return i=l.sent(),r=i.data.campaign.campaignId,[2,JSON.stringify(zt(zt({},e),{messageId:r}))]}}))}))},requiredTypes:["EMAIL"]}}},[2,r]}}))}))}catch(e){return console.error("Shoutout Module failed to configure wix automations. ".concat(e)),{}}},a.appDefId=e.appDefIds.shoutout,a.payload=[],a.moduleParams={},n.ModuleRegistry.registerComponent(e.PageComponentId.Shoutout,(function(){return Z})),n.ModuleRegistry.registerComponent(e.PageComponentId.ShoutoutCompliance,(function(){return oe})),n.ModuleRegistry.registerComponent(p,(function(){return _e})),n.ModuleRegistry.registerComponent(e.PageComponentId.TransactionalEmails,(function(){return me})),n.ModuleRegistry.registerComponent(e.PageComponentId.TeSmartActionsWidget,(function(){return he})),n.ModuleRegistry.registerComponent("QuotaLazyComponent",(function(){return Ke})),n.ModuleRegistry.registerComponent("EmailMarketingPingAutomationsWidgetLazyComponent",(function(){return ve})),n.ModuleRegistry.registerComponent("EmailMarketingSenderSetupWidget",(function(){return Se})),a.registerComponentWithModuleParams("shoutout-localization",Ve),a.registerComponentWithModuleParams(d,Le),a}return Vt(a,o),a.prototype.register=function(){Jt(this.appEssentials,this.appDefId)},a.prototype.init=function(n){return $t(this,void 0,void 0,(function(){var o=this;return Yt(this,(function(a){return this.moduleParams=n,i.p=n.config.topology.shoutoutStaticsUrl,this.registerMessageMethods(this.appEssentials.httpClient),(0,e.configModule)(e.ModuleId.Shoutout,e.ModuleId.Triggers,this.getTeWidgetConfig(n,this.appEssentials.httpClient)),Qt.forEach((function(a){var s,i=a.pageComponentId,r=a.sentryOnPremDsn,l=a.urlName,c=r;if(c){var u=null===(s=n.config.topology[l])||void 0===s?void 0:s.match(/\/\/static.parastorage.com\/services\/[a-z-]+\/([0-9.]+)\//),p="".concat(i,"-").concat(u?u[1]:"unknown"),d=new t.BrowserClient({dsn:c,release:p,beforeSend:function(e){for(var t,n,o,a,s=0,i=(null===(t=null==e?void 0:e.exception)||void 0===t?void 0:t.values)||[];s<i.length;s++){var r=i[s];if(null===(n=r.value)||void 0===n?void 0:n.startsWith("Failed to load /_api/wix-laboratory-server"))return null;var l=null===(o=r.stacktrace)||void 0===o?void 0:o.frames;if(l&&l.length>0){var c=null===(a=l[l.length-1])||void 0===a?void 0:a.filename;if(-1===(null==c?void 0:c.indexOf("shoutout-"))&&-1===(null==c?void 0:c.indexOf("sender-setup"))&&-1===(null==c?void 0:c.indexOf("te-smart-actions-widget")))return null}}return e}});o.sentryClients[i]=d,(0,e.registerPageComponentMonitors)(i,{sentryClient:d})}})),[2]}))}))},a.prototype.registerMessageMethods=function(e){var t=this,o=function(){return function(e){var t=e.httpClient,n=e.apiBaseUrl;return{get:function(e){return t.get("".concat(n).concat(e)).then((function(e){return e.data}))},post:function(e,o){return t.post("".concat(n).concat(e),o).then((function(e){return e.data}))}}}({httpClient:e,apiBaseUrl:"/_api/shoutout-editor/"})};n.ModuleRegistry.registerMethod("ShoutOut.createMessageFromTemplateTag",(function(){return Ge(o())})),n.ModuleRegistry.registerMethod("ShoutOut.getMessageIdForPreinstalledAutomation",(function(){return Ie(e)})),n.ModuleRegistry.registerMethod("ShoutOut.saveMessage",(function(){return function(e){var t=e.publish,n=e.message;return je({apiClient:o(),publish:t,message:n})}})),n.ModuleRegistry.registerMethod("ShoutOut.navigateToMultilingual",(function(){return function(e,n){return $t(t,void 0,void 0,(function(){return Yt(this,(function(t){switch(t.label){case 0:return[4,Promise.all([i.e(4030),i.e(6529)]).then(i.bind(i,16529))];case 1:return[2,(0,t.sent().navigateToMultilingual)(e,n)]}}))}))}})),n.ModuleRegistry.registerMethod("ShoutOut.openApeTranslation",(function(){return function(e){return $t(t,void 0,void 0,(function(){return Yt(this,(function(t){switch(t.label){case 0:return[4,Promise.all([i.e(4030),i.e(6529)]).then(i.bind(i,16529))];case 1:return[2,(0,t.sent().openApeTranslation)(e)]}}))}))}})),n.ModuleRegistry.registerMethod("ShoutOut.openApePreview",(function(){return function(e){return $t(t,void 0,void 0,(function(){return Yt(this,(function(t){switch(t.label){case 0:return[4,Promise.all([i.e(4030),i.e(6529)]).then(i.bind(i,16529))];case 1:return[4,(0,t.sent().openApePreview)(e)];case 2:return t.sent(),[2]}}))}))}})),n.ModuleRegistry.registerMethod("ShoutOut.duplicateApeTemplate",(function(){return function(e){return $t(t,void 0,void 0,(function(){return Yt(this,(function(t){switch(t.label){case 0:return[4,Promise.all([i.e(4030),i.e(6529)]).then(i.bind(i,16529))];case 1:return[2,(0,t.sent().duplicateApeTemplate)(e)]}}))}))}}))},a.prototype.config=function(e,t){this.payload.push(zt({source:e},t))},a.prototype.getConfigPayload=function(){return this.payload},a}(e.BusinessManagerModule);(0,e.registerModule)(e.ModuleId.Shoutout,Xt)}()}();
//# sourceMappingURL=shoutout-module.min.js.map